{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9534aaee9a1c8f378263","webpack:///./node_modules/lazy-brush/lib/LazyPoint.js","webpack:///./node_modules/lazy-brush/lib/Point.js","webpack:///./node_modules/catenary-curve/lib/Point.js","webpack:///./src/index.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/lazy-brush/lib/index.js","webpack:///./node_modules/lazy-brush/lib/LazyBrush.js","webpack:///./node_modules/catenary-curve/lib/index.js","webpack:///./node_modules/catenary-curve/lib/Catenary.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/drawImage.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_5__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","obj","_createClass","defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","_Point2","_Point3","default","LazyPoint","_Point","instance","TypeError","_classCallCheck","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","create","constructor","setPrototypeOf","_inherits","point","x","y","angle","distance","angleRotated","Math","PI","sin","cos","diff","getDifferenceTo","sqrt","pow","atan2","Point","midPointBtw","p1","p2","canvasStyle","display","position","canvasTypes","zIndex","PropTypes","oneOfType","number","string","_default","_this","_PureComponent","componentWillUnmount","canvasObserver","unobserve","canvasContainer","drawImage","imgSrc","image","Image","crossOrigin","onload","ctx","grid","img","src","undo","lines","slice","clear","simulateDrawingLines","immediate","triggerOnChange","getSaveData","JSON","stringify","width","canvasWidth","height","canvasHeight","getDataURL","canvas","drawing","toDataURL","loadSaveData","saveData","undefined","immediateLoading","Error","_JSON$parse","parse","push","scaleX","scaleY","scaleAvg","map","line","_extends","points","brushRadius","_ref","curTime","timeoutGap","loadTimeOffset","forEach","brushColor","drawPoints","saveLine","_loop","window","setTimeout","handleDrawStart","e","preventDefault","isPressing","_this$getPointerPos","getPointerPos","touches","lazy","update","both","handlePointerMove","handleDrawMove","_this$getPointerPos2","handleDrawEnd","isDrawing","handleCanvasResize","entries","observer","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref2","next","done","_entry$contentRect","contentRect","setCanvasSize","interface","temp","drawGrid","loop","once","style","rect","getBoundingClientRect","clientX","clientY","changedTouches","left","top","disabled","isDisabled","isEnabled","brush","toObject","mouseHasMoved","_ref3","lineJoin","lineCap","strokeStyle","clearRect","lineWidth","moveTo","beginPath","len","midPoint","quadraticCurveTo","lineTo","stroke","_ref4","onChange","valuesChanged","_ref5$once","pointer","getPointerCoordinates","getBrushCoordinates","drawInterface","requestAnimationFrame","hideGrid","setLineDash","gridColor","countX","countY","hideInterface","fillStyle","arc","fill","catenaryColor","catenary","drawToCanvas","chainLength","Catenary","componentDidMount","_this2","LazyBrush","radius","lazyRadius","devicePixelRatio","enabled","initialPoint","innerWidth","innerHeight","ResizeObserver","observe","initX","initY","componentDidUpdate","prevProps","setRadius","render","_this3","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","className","background","backgroundColor","touchAction","ref","container","_ref6","isInterface","getContext","onMouseDown","onMouseMove","onMouseUp","onMouseOut","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","PureComponent","defaultProps","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bool","func","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","shape","exact","checkPropTypes","_LazyBrush2","_interopRequireDefault","_LazyPoint2","_LazyPoint","RADIUS_DEFAULT","_ref$radius","_ref$enabled","_ref$initialPoint","_isEnabled","_hasMoved","newPointerPoint","_ref2$both","equalsTo","getDistanceTo","getAngleTo","moveByAngle","_Catenary2","_ref$segments","segments","_ref$iterationLimit","iterationLimit","context","point1","point2","isFlipped","curveData","isStraight","h","v","getCatenaryParameter","log","cosh","offsetX","offsetY","getCurve","mx","my","drawLine","drawCurve","limit","acosh","prevx","count","abs","sinh","data","ox","oy","global","MapShim","Map","getIndex","arr","result","some","entry","index","class_1","__entries__","set","delete","splice","has","callback","_a","isBrowser","document","global$1","Function","requestAnimationFrame$1","bind","Date","now","trailingTimeout","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","indexOf","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","keys","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","size","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","right","vertPad","bottom","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","clearActive","observation","WeakMap","method","__webpack_exports__","g","eval","w","cx","cy","cw","ch","iw","ih","r","min","nw","nh","ar"],"mappings":";;;;CAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,EAAAG,QAAA,UACA,mBAAAC,eAAAC,IACAD,QAAA,SAAAJ,GACA,iBAAAC,QACAA,QAAA,gBAAAD,EAAAG,QAAA,UAEAJ,EAAA,gBAAAC,EAAAD,EAAA,OARA,CASC,oBAAAO,UAAAC,KAAA,SAAAC,GACD,mBCTA,IAAAC,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAV,QAGA,IAAAC,EAAAO,EAAAE,IACAC,EAAAD,EACAE,GAAA,EACAZ,YAUA,OANAa,EAAAH,GAAAI,KAAAb,EAAAD,QAAAC,IAAAD,QAAAS,GAGAR,EAAAW,GAAA,EAGAX,EAAAD,QAqCA,OAhCAS,EAAAM,EAAAF,EAGAJ,EAAAO,EAAAR,EAGAC,EAAAQ,EAAA,SAAAjB,EAAAkB,EAAAC,GACAV,EAAAW,EAAApB,EAAAkB,IACAG,OAAAC,eAAAtB,EAAAkB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAV,EAAAiB,EAAA,SAAAzB,GACA,IAAAkB,EAAAlB,KAAA0B,WACA,WAA2B,OAAA1B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAQ,EAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAQ,EAAAC,GAAsD,OAAAR,OAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDpB,EAAAuB,EAAA,GAGAvB,IAAAwB,EAAA,kCC3DAZ,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAGA,IAMAC,EANAC,EAAA,WAAgC,SAAAC,EAAAC,EAAAC,GAA2C,QAAA5B,EAAA,EAAgBA,EAAA4B,EAAAC,OAAkB7B,IAAA,CAAO,IAAA8B,EAAAF,EAAA5B,GAA2B8B,EAAAjB,WAAAiB,EAAAjB,aAAA,EAAwDiB,EAAAlB,cAAA,EAAgC,UAAAkB,MAAAC,UAAA,GAAuDrB,OAAAC,eAAAgB,EAAAG,EAAAE,IAAAF,IAA+D,gBAAAG,EAAAC,EAAAC,GAA2L,OAAlID,GAAAR,EAAAO,EAAAd,UAAAe,GAAqEC,GAAAT,EAAAO,EAAAE,GAA6DF,GAAxhB,GAEAG,EAActC,EAAQ,GAEtBuC,GAEAb,EAFAY,IAEsCZ,EAAAR,WAAAQ,GAAuCc,QAAAd,GAQ7E,IAAAe,EAAA,SAAAC,GAGA,SAAAD,IAGA,OAZA,SAAAE,EAAAR,GAAiD,KAAAQ,aAAAR,GAA0C,UAAAS,UAAA,qCAU3FC,CAAAhD,KAAA4C,GARA,SAAA7C,EAAAS,GAAiD,IAAAT,EAAa,UAAAkD,eAAA,6DAAyF,OAAAzC,GAAA,iBAAAA,GAAA,mBAAAA,EAAAT,EAAAS,EAUvJ0C,CAAAlD,MAAA4C,EAAAO,WAAApC,OAAAqC,eAAAR,IAAAS,MAAArD,KAAAsD,YAwGA,OAhHA,SAAAC,EAAAC,GAA0C,sBAAAA,GAAA,OAAAA,EAA+D,UAAAT,UAAA,kEAAAS,GAAuGD,EAAA/B,UAAAT,OAAA0C,OAAAD,KAAAhC,WAAyEkC,aAAe9B,MAAA2B,EAAArC,YAAA,EAAAkB,UAAA,EAAAnB,cAAA,KAA6EuC,IAAAzC,OAAA4C,eAAA5C,OAAA4C,eAAAJ,EAAAC,GAAAD,EAAAJ,UAAAK,GAGrXI,CAAAhB,EA8GCF,EAAAC,SAtGDb,EAAAc,IACAP,IAAA,SAOAT,MAAA,SAAAiC,GACA7D,KAAA8D,EAAAD,EAAAC,EACA9D,KAAA+D,EAAAF,EAAAE,KAWA1B,IAAA,cACAT,MAAA,SAAAoC,EAAAC,GAEA,IAAAC,EAAAF,EAAAG,KAAAC,GAAA,EAEApE,KAAA8D,EAAA9D,KAAA8D,EAAAK,KAAAE,IAAAH,GAAAD,EAAAjE,KAAA+D,EAAA/D,KAAA+D,EAAAI,KAAAG,IAAAJ,GAAAD,KAWA5B,IAAA,WACAT,MAAA,SAAAiC,GACA,OAAA7D,KAAA8D,IAAAD,EAAAC,GAAA9D,KAAA+D,IAAAF,EAAAE,KAWA1B,IAAA,kBACAT,MAAA,SAAAiC,GACA,WAAAnB,EAAAC,QAAA3C,KAAA8D,EAAAD,EAAAC,EAAA9D,KAAA+D,EAAAF,EAAAE,MAWA1B,IAAA,gBACAT,MAAA,SAAAiC,GACA,IAAAU,EAAAvE,KAAAwE,gBAAAX,GAEA,OAAAM,KAAAM,KAAAN,KAAAO,IAAAH,EAAAT,EAAA,GAAAK,KAAAO,IAAAH,EAAAR,EAAA,OAWA1B,IAAA,aACAT,MAAA,SAAAiC,GACA,IAAAU,EAAAvE,KAAAwE,gBAAAX,GAEA,OAAAM,KAAAQ,MAAAJ,EAAAR,EAAAQ,EAAAT,MAUAzB,IAAA,WACAT,MAAA,WACA,OACAkC,EAAA9D,KAAA8D,EACAC,EAAA/D,KAAA+D,OAKAnB,EA9GA,GAiHAlD,EAAAiD,QAAAC,gCCnIA7B,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAkBAlC,EAAAiD,QAPA,SAAAiC,EAAAd,EAAAC,IARA,SAAAjB,EAAAR,GAAiD,KAAAQ,aAAAR,GAA0C,UAAAS,UAAA,qCAS3FC,CAAAhD,KAAA4E,GAEA5E,KAAA8D,IACA9D,KAAA+D,mCChBAhD,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAGA,IAAAE,EAAA,WAAgC,SAAAC,EAAAC,EAAAC,GAA2C,QAAA5B,EAAA,EAAgBA,EAAA4B,EAAAC,OAAkB7B,IAAA,CAAO,IAAA8B,EAAAF,EAAA5B,GAA2B8B,EAAAjB,WAAAiB,EAAAjB,aAAA,EAAwDiB,EAAAlB,cAAA,EAAgC,UAAAkB,MAAAC,UAAA,GAAuDrB,OAAAC,eAAAgB,EAAAG,EAAAE,IAAAF,IAA+D,gBAAAG,EAAAC,EAAAC,GAA2L,OAAlID,GAAAR,EAAAO,EAAAd,UAAAe,GAAqEC,GAAAT,EAAAO,EAAAE,GAA6DF,GAAxhB,GAIA,IAAAsC,EAAA,WAMA,SAAAA,EAAAd,EAAAC,IARA,SAAAjB,EAAAR,GAAiD,KAAAQ,aAAAR,GAA0C,UAAAS,UAAA,qCAS3FC,CAAAhD,KAAA4E,GAEA5E,KAAA8D,IACA9D,KAAA+D,IA8CA,OApCAjC,EAAA8C,IACAvC,IAAA,SACAT,MAAA,SAAAiC,GACA7D,KAAA8D,EAAAD,EAAAC,EACA9D,KAAA+D,EAAAF,EAAAE,KAWA1B,IAAA,kBACAT,MAAA,SAAAiC,GACA,WAAAe,EAAA5E,KAAA8D,EAAAD,EAAAC,EAAA9D,KAAA+D,EAAAF,EAAAE,MAWA1B,IAAA,gBACAT,MAAA,SAAAiC,GACA,IAAAU,EAAAvE,KAAAwE,gBAAAX,GAEA,OAAAM,KAAAM,KAAAN,KAAAO,IAAAH,EAAAT,EAAA,GAAAK,KAAAO,IAAAH,EAAAR,EAAA,QAIAa,EAxDA,GA2DAlF,EAAAiD,QAAAiC,oZC5DA,SAASC,EAAYC,EAAIC,GACvB,OACEjB,EAAGgB,EAAGhB,GAAKiB,EAAGjB,EAAIgB,EAAGhB,GAAK,EAC1BC,EAAGe,EAAGf,GAAKgB,EAAGhB,EAAIe,EAAGf,GAAK,GAI9B,IAAMiB,GACJC,QAAS,QACTC,SAAU,YAGNC,IAEFvE,KAAM,YACNwE,OAAQ,KAGRxE,KAAM,UACNwE,OAAQ,KAGRxE,KAAM,OACNwE,OAAQ,KAGRxE,KAAM,OACNwE,OAAQ,QAIgBC,IAAUC,WACpCD,IAAUE,OACVF,IAAUG,yBA0CV,SAAAC,EAAYxD,gGAAOe,CAAAhD,KAAAyF,GAAA,IAAAC,mKAAAxC,CAAAlD,KACjB2F,EAAAnF,KAAAR,KAAMiC,IADW,OAAAyD,EA2EnBE,qBAAuB,WACrBF,EAAKG,eAAeC,UAAUJ,EAAKK,kBA5ElBL,EA+EnBM,UAAY,WACLN,EAAKzD,MAAMgE,SAGhBP,EAAKQ,MAAQ,IAAIC,MAGjBT,EAAKQ,MAAME,YAAc,YAGzBV,EAAKQ,MAAMG,OAAS,kBAClBL,aAAYM,IAAKZ,EAAKY,IAAIC,KAAMC,IAAKd,EAAKQ,SAC5CR,EAAKQ,MAAMO,IAAMf,EAAKzD,MAAMgE,SA3FXP,EA8FnBgB,KAAO,WACL,IAAMC,EAAQjB,EAAKiB,MAAMC,MAAM,GAAI,GACnClB,EAAKmB,QACLnB,EAAKoB,sBAAuBH,QAAOI,WAAW,IAC9CrB,EAAKsB,mBAlGYtB,EAqGnBuB,YAAc,WAEZ,OAAOC,KAAKC,WACVR,MAAOjB,EAAKiB,MACZS,MAAO1B,EAAKzD,MAAMoF,YAClBC,OAAQ5B,EAAKzD,MAAMsF,gBA1GJ7B,EA8GnB8B,WAAa,WAEX,OAAO9B,EAAK+B,OAAOC,QAAQC,aAhHVjC,EAmHnBkC,aAAe,SAACC,GAAsD,IAA5Cd,EAA4CzD,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,GAAhCoC,EAAKzD,MAAM8F,iBAC/C,GAAwB,iBAAbF,EACT,MAAM,IAAIG,MAAM,wCAFkD,IAAAC,EAKnCf,KAAKgB,MAAML,GAApClB,EAL4DsB,EAK5DtB,MAAOS,EALqDa,EAKrDb,MAAOE,EAL8CW,EAK9CX,OAEtB,IAAKX,GAA+B,mBAAfA,EAAMwB,KACzB,MAAM,IAAIH,MAAM,wCAKlB,GAFAtC,EAAKmB,QAGHO,IAAU1B,EAAKzD,MAAMoF,aACrBC,IAAW5B,EAAKzD,MAAMsF,aAEtB7B,EAAKoB,sBACHH,QACAI,kBAEG,CAEL,IAAMqB,EAAS1C,EAAKzD,MAAMoF,YAAcD,EAClCiB,EAAS3C,EAAKzD,MAAMsF,aAAeD,EACnCgB,GAAYF,EAASC,GAAU,EAErC3C,EAAKoB,sBACHH,MAAOA,EAAM4B,IAAI,SAAAC,GAAA,OAAAC,KACZD,GACHE,OAAQF,EAAKE,OAAOH,IAAI,SAAA7G,GAAA,OACtBoC,EAAGpC,EAAEoC,EAAIsE,EACTrE,EAAGrC,EAAEqC,EAAIsE,KAEXM,YAAaH,EAAKG,YAAcL,MAElCvB,gBAvJarB,EA4JnBoB,qBAAuB,SAAA8B,GAA0B,IAAvBjC,EAAuBiC,EAAvBjC,MAAOI,EAAgB6B,EAAhB7B,UAG3B8B,EAAU,EACVC,EAAa/B,EAAY,EAAIrB,EAAKzD,MAAM8G,eAE5CpC,EAAMqC,QAAQ,SAAAR,GAAQ,IACZE,EAAoCF,EAApCE,OAAQO,EAA4BT,EAA5BS,WAAYN,EAAgBH,EAAhBG,YAG5B,GAAI5B,EAWF,OATArB,EAAKwD,YACHR,SACAO,aACAN,gBAIFjD,EAAKgD,OAASA,OACdhD,EAAKyD,UAAWF,aAAYN,gBAK9B,IAnBoB,IAAAS,EAAA,SAmBX/I,GACPwI,GAAWC,EACXO,OAAOC,WAAW,WAChB5D,EAAKwD,YACHR,OAAQA,EAAO9B,MAAM,EAAGvG,EAAI,GAC5B4I,aACAN,iBAEDE,IARIxI,EAAI,EAAGA,EAAIqI,EAAOxG,OAAQ7B,IAAK+I,EAA/B/I,GAWTwI,GAAWC,EACXO,OAAOC,WAAW,WAEhB5D,EAAKgD,OAASA,EACdhD,EAAKyD,UAAWF,aAAYN,iBAC3BE,MArMYnD,EAyMnB6D,gBAAkB,SAAAC,GAChBA,EAAEC,iBAGF/D,EAAKgE,YAAa,EAJG,IAAAC,EAMJjE,EAAKkE,cAAcJ,GAA5B1F,EANa6F,EAMb7F,EAAGC,EANU4F,EAMV5F,EAEPyF,EAAEK,SAAWL,EAAEK,QAAQ3H,OAAS,GAElCwD,EAAKoE,KAAKC,QAASjG,IAAGC,MAAOiG,MAAM,IAIrCtE,EAAKuE,kBAAkBnG,EAAGC,IAvNT2B,EA0NnBwE,eAAiB,SAAAV,GACfA,EAAEC,iBADkB,IAAAU,EAGHzE,EAAKkE,cAAcJ,GAA5B1F,EAHYqG,EAGZrG,EAAGC,EAHSoG,EAGTpG,EACX2B,EAAKuE,kBAAkBnG,EAAGC,IA9NT2B,EAiOnB0E,cAAgB,SAAAZ,GACdA,EAAEC,iBAGF/D,EAAKwE,eAAeV,GAGpB9D,EAAK2E,WAAY,EACjB3E,EAAKgE,YAAa,EAClBhE,EAAKyD,YA1OYzD,EA6OnB4E,mBAAqB,SAACC,EAASC,GAC7B,IAAM3C,EAAWnC,EAAKuB,cACtBwD,EAAoBF,EAApBG,EAAAC,MAAAC,QAAAH,GAAAI,EAAA,MAAAJ,EAAAC,EAAAD,IAAAK,OAAAC,cAA6B,KAAAC,EAAA,GAAAN,EAAA,IAAAG,GAAAJ,EAAAvI,OAAA,MAAA8I,EAAAP,EAAAI,SAAA,KAAAA,EAAAJ,EAAAQ,QAAAC,KAAA,MAAAF,EAAAH,EAAAjJ,MAAA,IAAAuJ,EAAAH,EACKI,YAAxBhE,EADmB+D,EACnB/D,MAAOE,EADY6D,EACZ7D,OACf5B,EAAK2F,cAAc3F,EAAK+B,OAAO6D,UAAWlE,EAAOE,GACjD5B,EAAK2F,cAAc3F,EAAK+B,OAAOC,QAASN,EAAOE,GAC/C5B,EAAK2F,cAAc3F,EAAK+B,OAAO8D,KAAMnE,EAAOE,GAC5C5B,EAAK2F,cAAc3F,EAAK+B,OAAOlB,KAAMa,EAAOE,GAE5C5B,EAAK8F,SAAS9F,EAAKY,IAAIC,MACvBb,EAAKM,YACLN,EAAK+F,MAAOC,MAAM,IAEpBhG,EAAKkC,aAAaC,GAAU,IA1PXnC,EA6PnB2F,cAAgB,SAAC5D,EAAQL,EAAOE,GAC9BG,EAAOL,MAAQA,EACfK,EAAOH,OAASA,EAChBG,EAAOkE,MAAMvE,MAAQA,EACrBK,EAAOkE,MAAMrE,OAASA,GAjQL5B,EAoQnBkE,cAAgB,SAAAJ,GACd,IAAMoC,EAAOlG,EAAK+B,OAAO6D,UAAUO,wBAG/BC,EAAUtC,EAAEsC,QACZC,EAAUvC,EAAEuC,QAShB,OANIvC,EAAEwC,gBAAkBxC,EAAEwC,eAAe9J,OAAS,IAChD4J,EAAUtC,EAAEwC,eAAe,GAAGF,QAC9BC,EAAUvC,EAAEwC,eAAe,GAAGD,UAK9BjI,EAAGgI,EAAUF,EAAKK,KAClBlI,EAAGgI,EAAUH,EAAKM,MApRHxG,EAwRnBuE,kBAAoB,SAACnG,EAAGC,GACtB,IAAI2B,EAAKzD,MAAMkK,SAAf,CAEAzG,EAAKoE,KAAKC,QAASjG,IAAGC,MACtB,IAAMqI,GAAc1G,EAAKoE,KAAKuC,aAG3B3G,EAAKgE,aAAehE,EAAK2E,WACzB+B,GAAc1G,EAAKgE,cAGpBhE,EAAK2E,WAAY,EACjB3E,EAAKgD,OAAOP,KAAKzC,EAAKoE,KAAKwC,MAAMC,aAG/B7G,EAAK2E,YAEP3E,EAAKgD,OAAOP,KAAKzC,EAAKoE,KAAKwC,MAAMC,YAGjC7G,EAAKwD,YACHR,OAAQhD,EAAKgD,OACbO,WAAYvD,EAAKzD,MAAMgH,WACvBN,YAAajD,EAAKzD,MAAM0G,eAI5BjD,EAAK8G,eAAgB,IAnTJ9G,EAsTnBwD,WAAa,SAAAuD,GAAyC,IAAtC/D,EAAsC+D,EAAtC/D,OAAQO,EAA8BwD,EAA9BxD,WAAYN,EAAkB8D,EAAlB9D,YAClCjD,EAAKY,IAAIiF,KAAKmB,SAAW,QACzBhH,EAAKY,IAAIiF,KAAKoB,QAAU,QACxBjH,EAAKY,IAAIiF,KAAKqB,YAAc3D,EAE5BvD,EAAKY,IAAIiF,KAAKsB,UACZ,EACA,EACAnH,EAAKY,IAAIiF,KAAK9D,OAAOL,MACrB1B,EAAKY,IAAIiF,KAAK9D,OAAOH,QAEvB5B,EAAKY,IAAIiF,KAAKuB,UAA0B,EAAdnE,EAE1B,IAAI7D,EAAK4D,EAAO,GACZ3D,EAAK2D,EAAO,GAEhBhD,EAAKY,IAAIiF,KAAKwB,OAAOhI,EAAGjB,EAAGiB,EAAGhB,GAC9B2B,EAAKY,IAAIiF,KAAKyB,YAEd,IAAK,IAAI3M,EAAI,EAAG4M,EAAMvE,EAAOxG,OAAQ7B,EAAI4M,EAAK5M,IAAK,CAGjD,IAAI6M,EAAWrI,EAAYC,EAAIC,GAC/BW,EAAKY,IAAIiF,KAAK4B,iBAAiBrI,EAAGhB,EAAGgB,EAAGf,EAAGmJ,EAASpJ,EAAGoJ,EAASnJ,GAChEe,EAAK4D,EAAOrI,GACZ0E,EAAK2D,EAAOrI,EAAI,GAKlBqF,EAAKY,IAAIiF,KAAK6B,OAAOtI,EAAGhB,EAAGgB,EAAGf,GAC9B2B,EAAKY,IAAIiF,KAAK8B,UArVG3H,EAwVnByD,SAAW,WAAsC,IAAAmE,EAAAhK,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,MAAnC2F,EAAmCqE,EAAnCrE,WAAYN,EAAuB2E,EAAvB3E,YACxB,KAAIjD,EAAKgD,OAAOxG,OAAS,GAAzB,CAGAwD,EAAKiB,MAAMwB,MACTO,iBAAYhD,EAAKgD,QACjBO,WAAYA,GAAcvD,EAAKzD,MAAMgH,WACrCN,YAAaA,GAAejD,EAAKzD,MAAM0G,cAIzCjD,EAAKgD,OAAOxG,OAAS,EAErB,IAAMkF,EAAQ1B,EAAK+B,OAAO8D,KAAKnE,MACzBE,EAAS5B,EAAK+B,OAAO8D,KAAKjE,OAGhC5B,EAAKY,IAAIoB,QAAQ1B,UAAUN,EAAK+B,OAAO8D,KAAM,EAAG,EAAGnE,EAAOE,GAG1D5B,EAAKY,IAAIiF,KAAKsB,UAAU,EAAG,EAAGzF,EAAOE,GAErC5B,EAAKsB,oBA9WYtB,EAiXnBsB,gBAAkB,WAChBtB,EAAKzD,MAAMsL,UAAY7H,EAAKzD,MAAMsL,SAAX7H,IAlXNA,EAqXnBmB,MAAQ,WACNnB,EAAKiB,SACLjB,EAAK8H,eAAgB,EACrB9H,EAAKY,IAAIoB,QAAQmF,UACf,EACA,EACAnH,EAAK+B,OAAOC,QAAQN,MACpB1B,EAAK+B,OAAOC,QAAQJ,QAEtB5B,EAAKY,IAAIiF,KAAKsB,UACZ,EACA,EACAnH,EAAK+B,OAAO8D,KAAKnE,MACjB1B,EAAK+B,OAAO8D,KAAKjE,SAlYF5B,EAsYnB+F,KAAO,WAA2B,IAAAgC,GAAAnK,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,OAAxBoI,YAAwB5D,IAAA2F,KAChC,GAAI/H,EAAK8G,eAAiB9G,EAAK8H,cAAe,CAC5C,IAAME,EAAUhI,EAAKoE,KAAK6D,wBACpBrB,EAAQ5G,EAAKoE,KAAK8D,sBAExBlI,EAAKmI,cAAcnI,EAAKY,IAAIgF,UAAWoC,EAASpB,GAChD5G,EAAK8G,eAAgB,EACrB9G,EAAK8H,eAAgB,EAGlB9B,GACHrC,OAAOyE,sBAAsB,WAC3BpI,EAAK+F,UAlZQ/F,EAuZnB8F,SAAW,SAAAlF,GACT,IAAIZ,EAAKzD,MAAM8L,SAAf,CAEAzH,EAAIuG,UAAU,EAAG,EAAGvG,EAAImB,OAAOL,MAAOd,EAAImB,OAAOH,QAEjDhB,EAAI0G,YACJ1G,EAAI0H,aAAa,EAAG,IACpB1H,EAAI0H,gBACJ1H,EAAIsG,YAAclH,EAAKzD,MAAMgM,UAC7B3H,EAAIwG,UAAY,GAKhB,IAHA,IAEIoB,EAAS,EACNA,EAAS5H,EAAImB,OAAOL,OACzB8G,GAJe,GAKf5H,EAAIyG,OAAOmB,EAAQ,GACnB5H,EAAI8G,OAAOc,EAAQ5H,EAAImB,OAAOH,QAEhChB,EAAI+G,SAGJ,IADA,IAAIc,EAAS,EACNA,EAAS7H,EAAImB,OAAOH,QACzB6G,GAZe,GAaf7H,EAAIyG,OAAO,EAAGoB,GACd7H,EAAI8G,OAAO9G,EAAImB,OAAOL,MAAO+G,GAE/B7H,EAAI+G,WAlba3H,EAqbnBmI,cAAgB,SAACvH,EAAKoH,EAASpB,GACzB5G,EAAKzD,MAAMmM,gBAEf9H,EAAIuG,UAAU,EAAG,EAAGvG,EAAImB,OAAOL,MAAOd,EAAImB,OAAOH,QAGjDhB,EAAI0G,YACJ1G,EAAI+H,UAAY3I,EAAKzD,MAAMgH,WAC3B3C,EAAIgI,IAAIhC,EAAMxI,EAAGwI,EAAMvI,EAAG2B,EAAKzD,MAAM0G,YAAa,EAAa,EAAVxE,KAAKC,IAAQ,GAClEkC,EAAIiI,OAGJjI,EAAI0G,YACJ1G,EAAI+H,UAAY3I,EAAKzD,MAAMuM,cAC3BlI,EAAIgI,IAAIZ,EAAQ5J,EAAG4J,EAAQ3J,EAAG,EAAG,EAAa,EAAVI,KAAKC,IAAQ,GACjDkC,EAAIiI,OAGA7I,EAAKoE,KAAKuC,cACZ/F,EAAI0G,YACJ1G,EAAIwG,UAAY,EAChBxG,EAAIqG,QAAU,QACdrG,EAAI0H,aAAa,EAAG,IACpB1H,EAAIsG,YAAclH,EAAKzD,MAAMuM,cAC7B9I,EAAK+I,SAASC,aACZhJ,EAAKY,IAAIgF,UACTgB,EACAoB,EACAhI,EAAKiJ,aAEPrI,EAAI+G,UAIN/G,EAAI0G,YACJ1G,EAAI+H,UAAY3I,EAAKzD,MAAMuM,cAC3BlI,EAAIgI,IAAIhC,EAAMxI,EAAGwI,EAAMvI,EAAG,EAAG,EAAa,EAAVI,KAAKC,IAAQ,GAC7CkC,EAAIiI,SAvdJ7I,EAAK+B,UACL/B,EAAKY,OAELZ,EAAK+I,SAAW,IAAIG,WAEpBlJ,EAAKgD,UACLhD,EAAKiB,SAELjB,EAAK8G,eAAgB,EACrB9G,EAAK8H,eAAgB,EACrB9H,EAAK2E,WAAY,EACjB3E,EAAKgE,YAAa,EAdDhE,oVAiBnBmJ,6BAAoB,IAAAC,EAAA9O,KAClBA,KAAK8J,KAAO,IAAIiF,aACdC,OAAQhP,KAAKiC,MAAMgN,WAAa5F,OAAO6F,iBACvCC,SAAS,EACTC,cACEtL,EAAGuF,OAAOgG,WAAa,EACvBtL,EAAGsF,OAAOiG,YAAc,KAG5BtP,KAAK2O,YAAc3O,KAAKiC,MAAMgN,WAAa5F,OAAO6F,iBAElDlP,KAAK6F,eAAiB,IAAI0J,IAAe,SAAChF,EAASC,GAAV,OACvCsE,EAAKxE,mBAAmBC,EAASC,KAEnCxK,KAAK6F,eAAe2J,QAAQxP,KAAK+F,iBAEjC/F,KAAKgG,YACLhG,KAAKyL,OAELpC,OAAOC,WAAW,WAChB,IAAMmG,EAAQpG,OAAOgG,WAAa,EAC5BK,EAAQrG,OAAOiG,YAAc,EACnCR,EAAKhF,KAAKC,QACNjG,EAAG2L,EAAQX,EAAKH,YAAc,EAAG5K,EAAG2L,IACpC1F,MAAM,IAEV8E,EAAKhF,KAAKC,QACNjG,EAAG2L,EAAQX,EAAKH,YAAc,EAAG5K,EAAG2L,IACpC1F,MAAM,IAEV8E,EAAKtC,eAAgB,EACrBsC,EAAKtB,eAAgB,EACrBsB,EAAKjI,QAGDiI,EAAK7M,MAAM4F,UACbiH,EAAKlH,aAAakH,EAAK7M,MAAM4F,WAE9B,kBAGL8H,4BAAmBC,GACbA,EAAUX,aAAejP,KAAKiC,MAAMgN,aAEtCjP,KAAK2O,YAAc3O,KAAKiC,MAAMgN,WAAa5F,OAAO6F,iBAClDlP,KAAK8J,KAAK+F,UAAU7P,KAAKiC,MAAMgN,WAAa5F,OAAO6F,mBAGjDU,EAAU/H,WAAa7H,KAAKiC,MAAM4F,UACpC7H,KAAK4H,aAAa5H,KAAKiC,MAAM4F,UAG3BX,KAAKC,UAAUyI,KAAe1I,KAAKC,UAAUnH,KAAKiC,SAEpDjC,KAAKwN,eAAgB,gBAsZzBsC,kBAAS,IAAAC,EAAA/P,KACP,OACEgQ,EAAAC,EAAAC,cAAA,OACEC,UAAWnQ,KAAKiC,MAAMkO,UACtBxE,MAAAlD,GACExD,QAAS,QACTmL,WAAYpQ,KAAKiC,MAAMoO,gBACvBC,YAAa,OACblJ,MAAOpH,KAAKiC,MAAMoF,YAClBC,OAAQtH,KAAKiC,MAAMsF,cAChBvH,KAAKiC,MAAM0J,OAEhB4E,IAAK,SAAAC,GACCA,IACFT,EAAKhK,gBAAkByK,KAI1BrL,EAAYoD,IAAI,SAAAkI,GAAsB,IAAnB7P,EAAmB6P,EAAnB7P,KAAMwE,EAAaqL,EAAbrL,OAClBsL,EAAuB,cAAT9P,EACpB,OACEoP,EAAAC,EAAAC,cAAA,UACE7N,IAAKzB,EACL2P,IAAK,SAAA9I,GACCA,IACFsI,EAAKtI,OAAO7G,GAAQ6G,EACpBsI,EAAKzJ,IAAI1F,GAAQ6G,EAAOkJ,WAAW,QAGvChF,MAAAlD,KAAYzD,GAAaI,WACzBwL,YAAaF,EAAcX,EAAKxG,qBAAkBzB,EAClD+I,YAAaH,EAAcX,EAAK7F,oBAAiBpC,EACjDgJ,UAAWJ,EAAcX,EAAK3F,mBAAgBtC,EAC9CiJ,WAAYL,EAAcX,EAAK3F,mBAAgBtC,EAC/CkJ,aAAcN,EAAcX,EAAKxG,qBAAkBzB,EACnDmJ,YAAaP,EAAcX,EAAK7F,oBAAiBpC,EACjDoJ,WAAYR,EAAcX,EAAK3F,mBAAgBtC,EAC/CqJ,cAAeT,EAAcX,EAAK3F,mBAAgBtC,WAziBnCsJ,mBAoBpBC,cACL9D,SAAU,KACVxE,eAAgB,EAChBkG,WAAY,GACZtG,YAAa,GACbM,WAAY,OACZuF,cAAe,UACfP,UAAW,yBACXoC,gBAAiB,OACjBtC,UAAU,EACV1G,YAAa,IACbE,aAAc,IACd4E,UAAU,EACVlG,OAAQ,GACR4B,SAAU,GACVE,kBAAkB,EAClBqG,eAAe,qBCjFnBzO,EAAAD,QAAAO,mBCiBAN,EAAAD,QAAmBS,EAAQ,EAARA,iCCRnB,IAAAmR,EAA2BnR,EAAQ,GAEnC,SAAAoR,KACA,SAAAC,KACAA,EAAAC,kBAAAF,EAEA5R,EAAAD,QAAA,WACA,SAAAgS,EAAAzP,EAAA0P,EAAAC,EAAAC,EAAAC,EAAAC,GACA,GAAAA,IAAAT,EAAA,CAIA,IAAAU,EAAA,IAAAhK,MACA,mLAKA,MADAgK,EAAApR,KAAA,sBACAoR,GAGA,SAAAC,IACA,OAAAP,EAFAA,EAAAQ,WAAAR,EAMA,IAAAS,GACAC,MAAAV,EACAW,KAAAX,EACAY,KAAAZ,EACAnM,OAAAmM,EACApQ,OAAAoQ,EACAlM,OAAAkM,EACAa,OAAAb,EAEAc,IAAAd,EACAe,QAAAR,EACAS,QAAAhB,EACAiB,YAAAjB,EACAkB,WAAAX,EACAY,KAAAnB,EACAoB,SAAAb,EACAc,MAAAd,EACA3M,UAAA2M,EACAe,MAAAf,EACAgB,MAAAhB,EAEAiB,eAAA1B,EACAC,kBAAAF,GAKA,OAFAY,EAAA9M,UAAA8M,EAEAA,iCCnDAxS,EAAAD,QAFA,6ECPAqB,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAEAlC,EAAAkD,UAAAlD,EAAAkF,MAAAlF,EAAAqP,eAAAjH,EAEA,IAEAqL,EAAAC,EAFiBjT,EAAQ,KAMzBsC,EAAA2Q,EAFajT,EAAQ,IAMrBkT,EAAAD,EAFiBjT,EAAQ,IAIzB,SAAAiT,EAAAvR,GAAsC,OAAAA,KAAAR,WAAAQ,GAAuCc,QAAAd,GAE7EnC,EAAAqP,UAAAoE,EAAAxQ,QACAjD,EAAAkF,MAAAnC,EAAAE,QACAjD,EAAAkD,UAAAyQ,EAAA1Q,sCCrBA5B,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAGA,IAMAC,EANAC,EAAA,WAAgC,SAAAC,EAAAC,EAAAC,GAA2C,QAAA5B,EAAA,EAAgBA,EAAA4B,EAAAC,OAAkB7B,IAAA,CAAO,IAAA8B,EAAAF,EAAA5B,GAA2B8B,EAAAjB,WAAAiB,EAAAjB,aAAA,EAAwDiB,EAAAlB,cAAA,EAAgC,UAAAkB,MAAAC,UAAA,GAAuDrB,OAAAC,eAAAgB,EAAAG,EAAAE,IAAAF,IAA+D,gBAAAG,EAAAC,EAAAC,GAA2L,OAAlID,GAAAR,EAAAO,EAAAd,UAAAe,GAAqEC,GAAAT,EAAAO,EAAAE,GAA6DF,GAAxhB,GAEAgR,EAAiBnT,EAAQ,GAEzBkT,GAEAxR,EAFAyR,IAEsCzR,EAAAR,WAAAQ,GAAuCc,QAAAd,GAI7E,IAAA0R,EAAA,GAEAxE,EAAA,WAQA,SAAAA,IACA,IAAAnG,EAAAtF,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,MACAkQ,EAAA5K,EAAAoG,OACAA,OAAAlH,IAAA0L,EAAAD,EAAAC,EACAC,EAAA7K,EAAAuG,QACAA,OAAArH,IAAA2L,KACAC,EAAA9K,EAAAwG,aACAA,OAAAtH,IAAA4L,GAA0D5P,EAAA,EAAAC,EAAA,GAAa2P,GAnBvE,SAAA5Q,EAAAR,GAAiD,KAAAQ,aAAAR,GAA0C,UAAAS,UAAA,qCAqB3FC,CAAAhD,KAAA+O,GAEA/O,KAAAgP,SACAhP,KAAA2T,WAAAxE,EAEAnP,KAAA0N,QAAA,IAAA2F,EAAA1Q,QAAAyM,EAAAtL,EAAAsL,EAAArL,GACA/D,KAAAsM,MAAA,IAAA+G,EAAA1Q,QAAAyM,EAAAtL,EAAAsL,EAAArL,GAEA/D,KAAAgE,MAAA,EACAhE,KAAAiE,SAAA,EACAjE,KAAA4T,WAAA,EAgMA,OAvLA9R,EAAAiN,IACA1M,IAAA,SACAT,MAAA,WACA5B,KAAA2T,YAAA,KASAtR,IAAA,UACAT,MAAA,WACA5B,KAAA2T,YAAA,KAQAtR,IAAA,YACAT,MAAA,WACA,OAAA5B,KAAA2T,cAUAtR,IAAA,YACAT,MAAA,SAAAoN,GACAhP,KAAAgP,YAUA3M,IAAA,YACAT,MAAA,WACA,OAAA5B,KAAAgP,UAUA3M,IAAA,sBACAT,MAAA,WACA,OAAA5B,KAAAsM,MAAAC,cAUAlK,IAAA,wBACAT,MAAA,WACA,OAAA5B,KAAA0N,QAAAnB,cAUAlK,IAAA,WACAT,MAAA,WACA,OAAA5B,KAAAsM,SAUAjK,IAAA,aACAT,MAAA,WACA,OAAA5B,KAAA0N,WAUArL,IAAA,WACAT,MAAA,WACA,OAAA5B,KAAAgE,SAUA3B,IAAA,cACAT,MAAA,WACA,OAAA5B,KAAAiE,YAUA5B,IAAA,gBACAT,MAAA,WACA,OAAA5B,KAAA4T,aAaAvR,IAAA,SACAT,MAAA,SAAAiS,GACA,IACAC,GADAxQ,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,OACA0G,KACAA,OAAAlC,IAAAgM,KAGA,OADA9T,KAAA4T,WAAA,IACA5T,KAAA0N,QAAAqG,SAAAF,KAAA7J,KAIAhK,KAAA0N,QAAA3D,OAAA8J,GAEA7J,GACAhK,KAAA4T,WAAA,EACA5T,KAAAsM,MAAAvC,OAAA8J,IACA,IAGA7T,KAAA2T,YACA3T,KAAAiE,SAAAjE,KAAA0N,QAAAsG,cAAAhU,KAAAsM,OACAtM,KAAAgE,MAAAhE,KAAA0N,QAAAuG,WAAAjU,KAAAsM,OAEAtM,KAAAiE,SAAAjE,KAAAgP,SACAhP,KAAAsM,MAAA4H,YAAAlU,KAAAgE,MAAAhE,KAAAiE,SAAAjE,KAAAgP,QACAhP,KAAA4T,WAAA,KAGA5T,KAAAiE,SAAA,EACAjE,KAAAgE,MAAA,EACAhE,KAAAsM,MAAAvC,OAAA8J,GACA7T,KAAA4T,WAAA,IAGA,QAIA7E,EA3NA,GA8NArP,EAAAiD,QAAAoM,gCC9OAhO,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAEAlC,EAAAkF,MAAAlF,EAAAkP,cAAA9G,EAEA,IAEAqM,EAAAf,EAFgBjT,EAAQ,KAMxBsC,EAAA2Q,EAFajT,EAAQ,IAIrB,SAAAiT,EAAAvR,GAAsC,OAAAA,KAAAR,WAAAQ,GAAuCc,QAAAd,GAE7EnC,EAAAkP,SAAAuF,EAAAxR,QACAjD,EAAAkF,MAAAnC,EAAAE,sCChBA5B,OAAAC,eAAAtB,EAAA,cACAkC,OAAA,IAGA,IAyBAC,EAzBAC,EAAA,WAAgC,SAAAC,EAAAC,EAAAC,GAA2C,QAAA5B,EAAA,EAAgBA,EAAA4B,EAAAC,OAAkB7B,IAAA,CAAO,IAAA8B,EAAAF,EAAA5B,GAA2B8B,EAAAjB,WAAAiB,EAAAjB,aAAA,EAAwDiB,EAAAlB,cAAA,EAAgC,UAAAkB,MAAAC,UAAA,GAAuDrB,OAAAC,eAAAgB,EAAAG,EAAAE,IAAAF,IAA+D,gBAAAG,EAAAC,EAAAC,GAA2L,OAAlID,GAAAR,EAAAO,EAAAd,UAAAe,GAAqEC,GAAAT,EAAAO,EAAAE,GAA6DF,GAAxhB,GAqBAO,EAAa1C,EAAQ,GAErBsC,GAEAZ,EAFAgB,IAEsChB,EAAAR,WAAAQ,GAAuCc,QAAAd,GAI7E,IAEA+M,EAAA,WAQA,SAAAA,IACA,IAAAhG,EAAAtF,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,MACA8Q,EAAAxL,EAAAyL,SACAA,OAAAvM,IAAAsM,EAAA,GAAAA,EACAE,EAAA1L,EAAA2L,eACAA,OAAAzM,IAAAwM,EAAA,IAAAA,GAjBA,SAAAxR,EAAAR,GAAiD,KAAAQ,aAAAR,GAA0C,UAAAS,UAAA,qCAmB3FC,CAAAhD,KAAA4O,GAEA5O,KAAA8E,GAAA,IAAArC,EAAAE,QACA3C,KAAA+E,GAAA,IAAAtC,EAAAE,QAEA3C,KAAAqU,WACArU,KAAAuU,iBAiLA,OApKAzS,EAAA8M,IACAvM,IAAA,eACAT,MAAA,SAAA4S,EAAAC,EAAAC,EAAA/F,GACA3O,KAAA8E,GAAAiF,OAAA0K,GACAzU,KAAA+E,GAAAgF,OAAA2K,GAEA,IAAAC,EAAA3U,KAAA8E,GAAAhB,EAAA9D,KAAA+E,GAAAjB,EAEAgB,EAAA6P,EAAA3U,KAAA+E,GAAA/E,KAAA8E,GACAC,EAAA4P,EAAA3U,KAAA8E,GAAA9E,KAAA+E,GAIA6P,KACAC,GAAA,EAIA,GAPA/P,EAAAkP,cAAAjP,GAOA4J,EAKA,GAJA5J,EAAAjB,EAAAgB,EAAAhB,EAIA,KACA,IAAAgR,EAAA/P,EAAAjB,EAAAgB,EAAAhB,EACAiR,EAAAhQ,EAAAhB,EAAAe,EAAAf,EACAkM,GAAAjQ,KAAAgV,qBAAAF,EAAAC,EAAApG,EAAA3O,KAAAuU,gBACAzQ,EAAA,IAAAmM,EAAA9L,KAAA8Q,KAAAtG,EAAAoG,IAAApG,EAAAoG,IAAAD,GACA/Q,EAAAkM,EAAA9L,KAAA+Q,KAAApR,EAAAmM,GACAkF,EAAArQ,EAAAhB,IACAsR,EAAAtQ,EAAAf,IACA6Q,EAAA5U,KAAAqV,SAAApF,EAAAnL,EAAAC,EAAAoQ,EAAAC,EAAApV,KAAAqU,UACAQ,GAAA,MACS,CACT,IAAAS,EAAA,IAAAxQ,EAAAhB,EAAAiB,EAAAjB,GACAyR,EAAA,IAAAzQ,EAAAf,EAAAgB,EAAAhB,EAAA4K,GAEAiG,IAAA9P,EAAAhB,EAAAgB,EAAAf,IAAAuR,EAAAC,IAAAxQ,EAAAjB,EAAAiB,EAAAhB,SAGA6Q,IAAA9P,EAAAhB,EAAAgB,EAAAf,IAAAgB,EAAAjB,EAAAiB,EAAAhB,IASA,OANA8Q,EACA7U,KAAAwV,SAAAZ,EAAAJ,GAEAxU,KAAAyV,UAAAb,EAAAJ,GAGAI,KAaAvS,IAAA,uBACAT,MAAA,SAAAkT,EAAAC,EAAA7S,EAAAwT,GAMA,IALA,IAAAjV,EAAA0D,KAAAM,KAAAvC,IAAA6S,KAAAD,EACAhR,EAAAK,KAAAwR,MAAAlV,GAAA,EACAmV,GAAA,EACAC,EAAA,EAEA1R,KAAA2R,IAAAhS,EAAA8R,GAzGA,MAyGAC,EAAAH,GACAE,EAAA9R,EACAA,IAAAK,KAAA4R,KAAAjS,GAAArD,EAAAqD,IAAAK,KAAA+Q,KAAApR,GAAArD,GACAoV,IAGA,OAAAf,GAAA,EAAAhR,MAiBAzB,IAAA,WACAT,MAAA,SAAAqO,EAAAnL,EAAAC,EAAAoQ,EAAAC,EAAAf,GAMA,IALA,IAAA2B,GAAAlR,EAAAhB,EAAAmM,EAAA9L,KAAA+Q,MAAApQ,EAAAhB,EAAAqR,GAAAlF,GAAAmF,GAEAzU,EAAAoE,EAAAjB,EAAAgB,EAAAhB,EACA5B,EAAAmS,EAAA,EAEAhU,EAAA,EAAqBA,EAAA6B,EAAY7B,IAAA,CACjC,IAAAyD,EAAAgB,EAAAhB,EAAAnD,GAAAN,EAAA,IAAA6B,EACA6B,EAAAkM,EAAA9L,KAAA+Q,MAAApR,EAAAqR,GAAAlF,GAAAmF,EACAY,EAAA7N,KAAArE,EAAAC,GAKA,OAFAiS,EAAA7N,KAAApD,EAAAjB,EAAAmM,EAAA9L,KAAA+Q,MAAAnQ,EAAAjB,EAAAqR,GAAAlF,GAAAmF,GAEAY,KAWA3T,IAAA,WACAT,MAAA,SAAAoU,EAAAxB,GACAA,EAAAzH,OAAAiJ,EAAA,MAAAA,EAAA,OAEAxB,EAAApH,OAAA4I,EAAA,MAAAA,EAAA,UAcA3T,IAAA,YACAT,MAAA,SAAAoU,EAAAxB,GACA,IAAAtS,EAAA,GAAA8T,EAAA9T,OAAA,EACA+T,EAAAD,EAAA,GACAE,EAAAF,EAAA,GAEAzK,KAEAiJ,EAAAzH,OAAAiJ,EAAA,GAAAA,EAAA,IAEA,QAAA3V,EAAA,EAAqBA,EAAA6B,EAAY7B,IAAA,CACjC,IAAAyD,EAAAkS,EAAA,EAAA3V,GACA0D,EAAAiS,EAAA,EAAA3V,EAAA,GACAiV,EAAA,IAAAxR,EAAAmS,GACAV,EAAA,IAAAxR,EAAAmS,GACA3K,EAAApD,MAAA8N,EAAAC,EAAAZ,EAAAC,IACAf,EAAArH,iBAAA8I,EAAAC,EAAAZ,EAAAC,GACAU,EAAAnS,EACAoS,EAAAnS,EAMA,OAHA7B,EAAA8T,EAAA9T,OACAsS,EAAArH,iBAAA6I,EAAA9T,EAAA,GAAA8T,EAAA9T,EAAA,GAAA8T,EAAA9T,EAAA,GAAA8T,EAAA9T,EAAA,IAEAqJ,MAIAqD,EAtMA,GAyMAlP,EAAAiD,QAAAiM,iCC9OA,SAAAuH,GAOA,IAAAC,EAAA,WACA,uBAAAC,IACA,OAAAA,IASA,SAAAC,EAAAC,EAAAlU,GACA,IAAAmU,GAAA,EAQA,OAPAD,EAAAE,KAAA,SAAAC,EAAAC,GACA,OAAAD,EAAA,KAAArU,IACAmU,EAAAG,GACA,KAIAH,EAEA,kBACA,SAAAI,IACA5W,KAAA6W,eAuEA,OArEA9V,OAAAC,eAAA4V,EAAApV,UAAA,QAIAL,IAAA,WACA,OAAAnB,KAAA6W,YAAA3U,QAEAhB,YAAA,EACAD,cAAA,IAMA2V,EAAApV,UAAAL,IAAA,SAAAkB,GACA,IAAAsU,EAAAL,EAAAtW,KAAA6W,YAAAxU,GACAqU,EAAA1W,KAAA6W,YAAAF,GACA,OAAAD,KAAA,IAOAE,EAAApV,UAAAsV,IAAA,SAAAzU,EAAAT,GACA,IAAA+U,EAAAL,EAAAtW,KAAA6W,YAAAxU,IACAsU,EACA3W,KAAA6W,YAAAF,GAAA,GAAA/U,EAGA5B,KAAA6W,YAAA1O,MAAA9F,EAAAT,KAOAgV,EAAApV,UAAAuV,OAAA,SAAA1U,GACA,IAAAkI,EAAAvK,KAAA6W,YACAF,EAAAL,EAAA/L,EAAAlI,IACAsU,GACApM,EAAAyM,OAAAL,EAAA,IAOAC,EAAApV,UAAAyV,IAAA,SAAA5U,GACA,SAAAiU,EAAAtW,KAAA6W,YAAAxU,IAKAuU,EAAApV,UAAAqF,MAAA,WACA7G,KAAA6W,YAAAG,OAAA,IAOAJ,EAAApV,UAAAwH,QAAA,SAAAkO,EAAA5Q,QACA,IAAAA,IAAiCA,EAAA,MACjC,QAAAuE,EAAA,EAAAsM,EAAAnX,KAAA6W,YAAmDhM,EAAAsM,EAAAjV,OAAgB2I,IAAA,CACnE,IAAA6L,EAAAS,EAAAtM,GACAqM,EAAA1W,KAAA8F,EAAAoQ,EAAA,GAAAA,EAAA,MAGAE,EAzEA,GAtBA,GAsGAQ,EAAA,oBAAA/N,QAAA,oBAAAgO,UAAAhO,OAAAgO,oBAGAC,OACA,IAAAnB,KAAAhS,YACAgS,EAEA,oBAAApW,WAAAoE,YACApE,KAEA,oBAAAsJ,eAAAlF,YACAkF,OAGAkO,SAAA,cAAAA,GASAC,EACA,mBAAA1J,sBAIAA,sBAAA2J,KAAAH,GAEA,SAAAJ,GAAgC,OAAA5N,WAAA,WAAgC,OAAA4N,EAAAQ,KAAAC,QAA+B,SAI/FC,EAAA,EAiEA,IAAAC,EAAA,GAGAC,GAAA,gEAEAC,EAAA,oBAAAC,iBAIAC,EAAA,WAMA,SAAAA,IAMAjY,KAAAkY,YAAA,EAMAlY,KAAAmY,sBAAA,EAMAnY,KAAAoY,mBAAA,KAMApY,KAAAqY,cACArY,KAAAsY,iBAAAtY,KAAAsY,iBAAAb,KAAAzX,MACAA,KAAAuY,QAjGA,SAAArB,EAAAsB,GACA,IAAAC,GAAA,EAAAC,GAAA,EAAAC,EAAA,EAOA,SAAAC,IACAH,IACAA,GAAA,EACAvB,KAEAwB,GACAG,IAUA,SAAAC,IACAtB,EAAAoB,GAOA,SAAAC,IACA,IAAAE,EAAArB,KAAAC,MACA,GAAAc,EAAA,CAEA,GAAAM,EAAAJ,EAAAf,EACA,OAMAc,GAAA,OAGAD,GAAA,EACAC,GAAA,EACApP,WAAAwP,EAAAN,GAEAG,EAAAI,EAEA,OAAAF,EA6CAG,CAAAhZ,KAAAuY,QAAAd,KAAAzX,MAAA6X,GAgKA,OAxJAI,EAAAzW,UAAAyX,YAAA,SAAAzO,IACAxK,KAAAqY,WAAAa,QAAA1O,IACAxK,KAAAqY,WAAAlQ,KAAAqC,GAGAxK,KAAAkY,YACAlY,KAAAmZ,YASAlB,EAAAzW,UAAA4X,eAAA,SAAA5O,GACA,IAAA6O,EAAArZ,KAAAqY,WACA1B,EAAA0C,EAAAH,QAAA1O,IAEAmM,GACA0C,EAAArC,OAAAL,EAAA,IAGA0C,EAAAnX,QAAAlC,KAAAkY,YACAlY,KAAAsZ,eASArB,EAAAzW,UAAA+W,QAAA,WACAvY,KAAAuZ,oBAIAvZ,KAAAuY,WAWAN,EAAAzW,UAAA+X,iBAAA,WAEA,IAAAC,EAAAxZ,KAAAqY,WAAAoB,OAAA,SAAAjP,GACA,OAAAA,EAAAkP,eAAAlP,EAAAmP,cAQA,OADAH,EAAAxQ,QAAA,SAAAwB,GAAqD,OAAAA,EAAAoP,oBACrDJ,EAAAtX,OAAA,GAQA+V,EAAAzW,UAAA2X,SAAA,WAGA/B,IAAApX,KAAAkY,aAMAb,SAAAwC,iBAAA,gBAAA7Z,KAAAsY,kBACAjP,OAAAwQ,iBAAA,SAAA7Z,KAAAuY,SACAR,GACA/X,KAAAoY,mBAAA,IAAAJ,iBAAAhY,KAAAuY,SACAvY,KAAAoY,mBAAA5I,QAAA6H,UACAyC,YAAA,EACAC,WAAA,EACAC,eAAA,EACAC,SAAA,MAIA5C,SAAAwC,iBAAA,qBAAA7Z,KAAAuY,SACAvY,KAAAmY,sBAAA,GAEAnY,KAAAkY,YAAA,IAQAD,EAAAzW,UAAA8X,YAAA,WAGAlC,GAAApX,KAAAkY,aAGAb,SAAA6C,oBAAA,gBAAAla,KAAAsY,kBACAjP,OAAA6Q,oBAAA,SAAAla,KAAAuY,SACAvY,KAAAoY,oBACApY,KAAAoY,mBAAA+B,aAEAna,KAAAmY,sBACAd,SAAA6C,oBAAA,qBAAAla,KAAAuY,SAEAvY,KAAAoY,mBAAA,KACApY,KAAAmY,sBAAA,EACAnY,KAAAkY,YAAA,IASAD,EAAAzW,UAAA8W,iBAAA,SAAAnB,GACA,IAAAiD,EAAAjD,EAAAkD,oBAAA,IAAAD,EAAA,GAAAA,EAEAtC,EAAArB,KAAA,SAAApU,GACA,SAAAgY,EAAAnB,QAAA7W,MAGArC,KAAAuY,WAQAN,EAAAqC,YAAA,WAIA,OAHAta,KAAAua,YACAva,KAAAua,UAAA,IAAAtC,GAEAjY,KAAAua,WAOAtC,EAAAsC,UAAA,KACAtC,EAhMA,GA0MAuC,EAAA,SAAAxY,EAAAC,GACA,QAAA4I,EAAA,EAAAsM,EAAApW,OAAA0Z,KAAAxY,GAA6C4I,EAAAsM,EAAAjV,OAAgB2I,IAAA,CAC7D,IAAAxI,EAAA8U,EAAAtM,GACA9J,OAAAC,eAAAgB,EAAAK,GACAT,MAAAK,EAAAI,GACAnB,YAAA,EACAkB,UAAA,EACAnB,cAAA,IAGA,OAAAe,GASA0Y,EAAA,SAAA1Y,GAOA,OAHAA,KAAA2Y,eAAA3Y,EAAA2Y,cAAAC,aAGAtD,GAIAuD,EAAAC,EAAA,SAOA,SAAAC,EAAAnZ,GACA,OAAAoZ,WAAApZ,IAAA,EASA,SAAAqZ,EAAAC,GAEA,IADA,IAAAC,KACAtQ,EAAA,EAAoBA,EAAAvH,UAAApB,OAAuB2I,IAC3CsQ,EAAAtQ,EAAA,GAAAvH,UAAAuH,GAEA,OAAAsQ,EAAAC,OAAA,SAAAC,EAAAnW,GAEA,OAAAmW,EAAAN,EADAG,EAAA,UAAAhW,EAAA,YAEK,GAmCL,SAAAoW,EAAAtZ,GAGA,IAAAuZ,EAAAvZ,EAAAuZ,YAAAC,EAAAxZ,EAAAwZ,aASA,IAAAD,IAAAC,EACA,OAAAX,EAEA,IAAAK,EAAAR,EAAA1Y,GAAAyZ,iBAAAzZ,GACA0Z,EA3CA,SAAAR,GAGA,IAFA,IACAQ,KACA7Q,EAAA,EAAA8Q,GAFA,+BAE6C9Q,EAAA8Q,EAAAzZ,OAAyB2I,IAAA,CACtE,IAAA3F,EAAAyW,EAAA9Q,GACAjJ,EAAAsZ,EAAA,WAAAhW,GACAwW,EAAAxW,GAAA6V,EAAAnZ,GAEA,OAAA8Z,EAmCAE,CAAAV,GACAW,EAAAH,EAAAzP,KAAAyP,EAAAI,MACAC,EAAAL,EAAAxP,IAAAwP,EAAAM,OAKA5U,EAAA2T,EAAAG,EAAA9T,OAAAE,EAAAyT,EAAAG,EAAA5T,QAqBA,GAlBA,eAAA4T,EAAAe,YAOA9X,KAAA+X,MAAA9U,EAAAyU,KAAAN,IACAnU,GAAA6T,EAAAC,EAAA,gBAAAW,GAEA1X,KAAA+X,MAAA5U,EAAAyU,KAAAP,IACAlU,GAAA2T,EAAAC,EAAA,gBAAAa,KAoDA,SAAA/Z,GACA,OAAAA,IAAA0Y,EAAA1Y,GAAAqV,SAAA8E,gBA9CAC,CAAApa,GAAA,CAKA,IAAAqa,EAAAlY,KAAA+X,MAAA9U,EAAAyU,GAAAN,EACAe,EAAAnY,KAAA+X,MAAA5U,EAAAyU,GAAAP,EAMA,IAAArX,KAAA2R,IAAAuG,KACAjV,GAAAiV,GAEA,IAAAlY,KAAA2R,IAAAwG,KACAhV,GAAAgV,GAGA,OAAAxB,EAAAY,EAAAzP,KAAAyP,EAAAxP,IAAA9E,EAAAE,GAQA,IAAAiV,EAGA,oBAAAC,mBACA,SAAAxa,GAAkC,OAAAA,aAAA0Y,EAAA1Y,GAAAwa,oBAKlC,SAAAxa,GAA8B,OAAAA,aAAA0Y,EAAA1Y,GAAAya,YAC9B,mBAAAza,EAAA0a,SAiBA,SAAAC,EAAA3a,GACA,OAAAoV,EAGAmF,EAAAva,GAhHA,SAAAA,GACA,IAAA4a,EAAA5a,EAAA0a,UACA,OAAA5B,EAAA,IAAA8B,EAAAxV,MAAAwV,EAAAtV,QA+GAuV,CAAA7a,GAEAsZ,EAAAtZ,GALA6Y,EAuCA,SAAAC,EAAAhX,EAAAC,EAAAqD,EAAAE,GACA,OAAYxD,IAAAC,IAAAqD,QAAAE,UAOZ,IAAAwV,EAAA,WAMA,SAAAA,EAAA9a,GAMAhC,KAAA+c,eAAA,EAMA/c,KAAAgd,gBAAA,EAMAhd,KAAAid,aAAAnC,EAAA,SACA9a,KAAAgC,SA0BA,OAlBA8a,EAAAtb,UAAA0b,SAAA,WACA,IAAAtR,EAAA+Q,EAAA3c,KAAAgC,QAEA,OADAhC,KAAAid,aAAArR,EACAA,EAAAxE,QAAApH,KAAA+c,gBACAnR,EAAAtE,SAAAtH,KAAAgd,iBAQAF,EAAAtb,UAAA2b,cAAA,WACA,IAAAvR,EAAA5L,KAAAid,aAGA,OAFAjd,KAAA+c,eAAAnR,EAAAxE,MACApH,KAAAgd,gBAAApR,EAAAtE,OACAsE,GAEAkR,EAnDA,GAsDAM,EAAA,WAiBA,OAVA,SAAApb,EAAAqb,GACA,IA/FAlG,EACArT,EAAAC,EAAAqD,EAAAE,EAEAgW,EACA1R,EA2FAR,GA9FAtH,GADAqT,EA+FAkG,GA9FAvZ,EAAAC,EAAAoT,EAAApT,EAAAqD,EAAA+P,EAAA/P,MAAAE,EAAA6P,EAAA7P,OAEAgW,EAAA,oBAAAC,gCAAAxc,OACA6K,EAAA7K,OAAA0C,OAAA6Z,EAAA9b,WAEAgZ,EAAA5O,GACA9H,IAAAC,IAAAqD,QAAAE,SACA4E,IAAAnI,EACA+X,MAAAhY,EAAAsD,EACA4U,OAAA1U,EAAAvD,EACAkI,KAAAnI,IAEA8H,GAyFA4O,EAAAxa,MAAkCgC,SAAAoJ,iBAflC,GAoBAoS,EAAA,WAWA,SAAAA,EAAAtG,EAAAuG,EAAAC,GAcA,GAPA1d,KAAA2d,uBAMA3d,KAAA4d,cAAA,IAAAxH,EACA,mBAAAc,EACA,UAAAnU,UAAA,2DAEA/C,KAAA6d,UAAA3G,EACAlX,KAAA8d,YAAAL,EACAzd,KAAA+d,aAAAL,EAoHA,OA5GAF,EAAAhc,UAAAgO,QAAA,SAAAxN,GACA,IAAAsB,UAAApB,OACA,UAAAa,UAAA,4CAGA,uBAAAib,4BAAAjd,OAAA,CAGA,KAAAiB,aAAA0Y,EAAA1Y,GAAAgc,SACA,UAAAjb,UAAA,yCAEA,IAAAkb,EAAAje,KAAA4d,cAEAK,EAAAhH,IAAAjV,KAGAic,EAAAnH,IAAA9U,EAAA,IAAA8a,EAAA9a,IACAhC,KAAA8d,YAAA7E,YAAAjZ,MAEAA,KAAA8d,YAAAvF,aAQAiF,EAAAhc,UAAAsE,UAAA,SAAA9D,GACA,IAAAsB,UAAApB,OACA,UAAAa,UAAA,4CAGA,uBAAAib,4BAAAjd,OAAA,CAGA,KAAAiB,aAAA0Y,EAAA1Y,GAAAgc,SACA,UAAAjb,UAAA,yCAEA,IAAAkb,EAAAje,KAAA4d,cAEAK,EAAAhH,IAAAjV,KAGAic,EAAAlH,OAAA/U,GACAic,EAAA5C,MACArb,KAAA8d,YAAA1E,eAAApZ,SAQAwd,EAAAhc,UAAA2Y,WAAA,WACAna,KAAAke,cACAle,KAAA4d,cAAA/W,QACA7G,KAAA8d,YAAA1E,eAAApZ,OAQAwd,EAAAhc,UAAAkY,aAAA,WACA,IAAAhU,EAAA1F,KACAA,KAAAke,cACAle,KAAA4d,cAAA5U,QAAA,SAAAmV,GACAA,EAAAjB,YACAxX,EAAAiY,oBAAAxV,KAAAgW,MAUAX,EAAAhc,UAAAoY,gBAAA,WAEA,GAAA5Z,KAAA2Z,YAAA,CAGA,IAAArT,EAAAtG,KAAA+d,aAEAxT,EAAAvK,KAAA2d,oBAAApV,IAAA,SAAA4V,GACA,WAAAf,EAAAe,EAAAnc,OAAAmc,EAAAhB,mBAEAnd,KAAA6d,UAAArd,KAAA8F,EAAAiE,EAAAjE,GACAtG,KAAAke,gBAOAV,EAAAhc,UAAA0c,YAAA,WACAle,KAAA2d,oBAAA3G,OAAA,IAOAwG,EAAAhc,UAAAmY,UAAA,WACA,OAAA3Z,KAAA2d,oBAAAzb,OAAA,GAEAsb,EAlJA,GAwJAnE,EAAA,oBAAA+E,QAAA,IAAAA,QAAA,IAAAhI,EAKA7G,EAAA,WAkBA,OAXA,SAAAA,EAAA2H,GACA,KAAAlX,gBAAAuP,GACA,UAAAxM,UAAA,sCAEA,IAAAO,UAAApB,OACA,UAAAa,UAAA,4CAEA,IAAA0a,EAAAxF,EAAAqC,cACA9P,EAAA,IAAAgT,EAAAtG,EAAAuG,EAAAzd,MACAqZ,EAAAvC,IAAA9W,KAAAwK,IAhBA,IAsBA,UACA,YACA,cACAxB,QAAA,SAAAqV,GACA9O,EAAA/N,UAAA6c,GAAA,WACA,IAAAlH,EACA,OAAAA,EAAAkC,EAAAlY,IAAAnB,OAAAqe,GAAAhb,MAAA8T,EAAA7T,cAIA,IAAAqT,OAEA,IAAAW,EAAA/H,eACA+H,EAAA/H,eAEAA,EAGe+O,EAAA,mCC/5Bf,IAAAC,EAGAA,EAAA,WACA,OAAAve,KADA,GAIA,IAEAue,KAAAhH,SAAA,cAAAA,KAAA,EAAAiH,MAAA,QACC,MAAAhV,GAED,iBAAAH,SACAkV,EAAAlV,QAOA1J,EAAAD,QAAA6e,gCCpBAD,EAAA,EAMe,WAAsE,IAAA1V,EAAAtF,UAAApB,OAAA,QAAA4F,IAAAxE,UAAA,GAAAA,UAAA,MAA9CgD,EAA8CsC,EAA9CtC,IAAKE,EAAyCoC,EAAzCpC,IAAK1C,EAAoC8E,EAApC9E,EAAGC,EAAiC6E,EAAjC7E,EAAG0a,EAA8B7V,EAA9B6V,EAAG3J,EAA2BlM,EAA3BkM,EAAGK,EAAwBvM,EAAxBuM,QAASC,EAAexM,EAAfwM,QAEnD,iBAANtR,IAAgBA,EAAI,GACd,iBAANC,IAAgBA,EAAI,GACd,iBAAN0a,IAAgBA,EAAInY,EAAImB,OAAOL,OACzB,iBAAN0N,IAAgBA,EAAIxO,EAAImB,OAAOH,QACnB,iBAAZ6N,IAAsBA,EAAU,IACpB,iBAAZC,IAAsBA,EAAU,IAGvCD,EAAU,IAAGA,EAAU,GACvBC,EAAU,IAAGA,EAAU,GACvBD,EAAU,IAAGA,EAAU,GACvBC,EAAU,IAAGA,EAAU,GAE3B,IAKEsJ,EACAC,EACAC,EACAC,EAREC,EAAKtY,EAAIY,MACX2X,EAAKvY,EAAIc,OACT0X,EAAI7a,KAAK8a,IAAIR,EAAIK,EAAIhK,EAAIiK,GACzBG,EAAKJ,EAAKE,EACVG,EAAKJ,EAAKC,EAKVI,EAAK,EAGHF,EAAKT,IAAGW,EAAKX,EAAIS,GACjB/a,KAAK2R,IAAIsJ,EAAK,GAAK,OAASD,EAAKrK,IAAGsK,EAAKtK,EAAIqK,GASjDR,GAAMI,GAHNF,EAAKE,IAJLI,GAAMC,GAIUtK,KAGCM,GADjBsJ,GAAMI,GAHNF,EAAKE,IAJLI,GAAME,GAIUX,KAGCtJ,GAIR,IAAGuJ,EAAK,GACbC,EAAK,IAAGA,EAAK,GACbC,EAAKE,IAAIF,EAAKE,GACdD,EAAKE,IAAIF,EAAKE,GAGlBzY,EAAIN,UAAUQ,EAAKkY,EAAIC,EAAIC,EAAIC,EAAI/a,EAAGC,EAAG0a,EAAG3J","file":"react-canvas-draw.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCanvasDraw\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCanvasDraw\"] = factory(root[\"React\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9534aaee9a1c8f378263","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Point2 = require('./Point');\n\nvar _Point3 = _interopRequireDefault(_Point2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LazyPoint = function (_Point) {\n  _inherits(LazyPoint, _Point);\n\n  function LazyPoint() {\n    _classCallCheck(this, LazyPoint);\n\n    return _possibleConstructorReturn(this, (LazyPoint.__proto__ || Object.getPrototypeOf(LazyPoint)).apply(this, arguments));\n  }\n\n  _createClass(LazyPoint, [{\n    key: 'update',\n\n    /**\n     * Update the x and y values\n     *\n     * @param {Point} point\n     */\n    value: function update(point) {\n      this.x = point.x;\n      this.y = point.y;\n    }\n\n    /**\n     * Move the point to another position using an angle and distance\n     *\n     * @param {number} angle The angle in radians\n     * @param {number} distance How much the point should be moved\n     */\n\n  }, {\n    key: 'moveByAngle',\n    value: function moveByAngle(angle, distance) {\n      // Rotate the angle based on the browser coordinate system ([0,0] in the top left)\n      var angleRotated = angle + Math.PI / 2;\n\n      this.x = this.x + Math.sin(angleRotated) * distance, this.y = this.y - Math.cos(angleRotated) * distance;\n    }\n\n    /**\n     * Check if this point is the same as another point\n     *\n     * @param {Point} point\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'equalsTo',\n    value: function equalsTo(point) {\n      return this.x === point.x && this.y === point.y;\n    }\n\n    /**\n     * Get the difference for x and y axis to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: 'getDifferenceTo',\n    value: function getDifferenceTo(point) {\n      return new _Point3.default(this.x - point.x, this.y - point.y);\n    }\n\n    /**\n     * Calculate distance to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: 'getDistanceTo',\n    value: function getDistanceTo(point) {\n      var diff = this.getDifferenceTo(point);\n\n      return Math.sqrt(Math.pow(diff.x, 2) + Math.pow(diff.y, 2));\n    }\n\n    /**\n     * Calculate the angle to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: 'getAngleTo',\n    value: function getAngleTo(point) {\n      var diff = this.getDifferenceTo(point);\n\n      return Math.atan2(diff.y, diff.x);\n    }\n\n    /**\n     * Return a simple object with x and y properties\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: 'toObject',\n    value: function toObject() {\n      return {\n        x: this.x,\n        y: this.y\n      };\n    }\n  }]);\n\n  return LazyPoint;\n}(_Point3.default);\n\nexports.default = LazyPoint;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazy-brush/lib/LazyPoint.js\n// module id = 0\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Point =\n/**\n *\n * @param {number} x\n * @param {number} y\n */\nfunction Point(x, y) {\n  _classCallCheck(this, Point);\n\n  this.x = x;\n  this.y = y;\n};\n\nexports.default = Point;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazy-brush/lib/Point.js\n// module id = 1\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Point = function () {\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   */\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  /**\n   * Update the x and y values\n   *\n   * @param {Point} point\n   */\n\n\n  _createClass(Point, [{\n    key: \"update\",\n    value: function update(point) {\n      this.x = point.x;\n      this.y = point.y;\n    }\n\n    /**\n     * Get the difference for x and y axis to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: \"getDifferenceTo\",\n    value: function getDifferenceTo(point) {\n      return new Point(this.x - point.x, this.y - point.y);\n    }\n\n    /**\n     * Calculate distance to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: \"getDistanceTo\",\n    value: function getDistanceTo(point) {\n      var diff = this.getDifferenceTo(point);\n\n      return Math.sqrt(Math.pow(diff.x, 2) + Math.pow(diff.y, 2));\n    }\n  }]);\n\n  return Point;\n}();\n\nexports.default = Point;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/catenary-curve/lib/Point.js\n// module id = 2\n// module chunks = 0","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { LazyBrush } from \"lazy-brush\";\nimport { Catenary } from \"catenary-curve\";\n\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nimport drawImage from \"./drawImage\";\n\nfunction midPointBtw(p1, p2) {\n  return {\n    x: p1.x + (p2.x - p1.x) / 2,\n    y: p1.y + (p2.y - p1.y) / 2\n  };\n}\n\nconst canvasStyle = {\n  display: \"block\",\n  position: \"absolute\"\n};\n\nconst canvasTypes = [\n  {\n    name: \"interface\",\n    zIndex: 15\n  },\n  {\n    name: \"drawing\",\n    zIndex: 11\n  },\n  {\n    name: \"temp\",\n    zIndex: 12\n  },\n  {\n    name: \"grid\",\n    zIndex: 10\n  }\n];\n\nconst dimensionsPropTypes = PropTypes.oneOfType([\n  PropTypes.number,\n  PropTypes.string\n]);\n\nexport default class extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func,\n    loadTimeOffset: PropTypes.number,\n    lazyRadius: PropTypes.number,\n    brushRadius: PropTypes.number,\n    brushColor: PropTypes.string,\n    catenaryColor: PropTypes.string,\n    gridColor: PropTypes.string,\n    backgroundColor: PropTypes.string,\n    hideGrid: PropTypes.bool,\n    canvasWidth: dimensionsPropTypes,\n    canvasHeight: dimensionsPropTypes,\n    disabled: PropTypes.bool,\n    imgSrc: PropTypes.string,\n    saveData: PropTypes.string,\n    immediateLoading: PropTypes.bool,\n    hideInterface: PropTypes.bool\n  };\n\n  static defaultProps = {\n    onChange: null,\n    loadTimeOffset: 5,\n    lazyRadius: 12,\n    brushRadius: 10,\n    brushColor: \"#444\",\n    catenaryColor: \"#0a0302\",\n    gridColor: \"rgba(150,150,150,0.17)\",\n    backgroundColor: \"#FFF\",\n    hideGrid: false,\n    canvasWidth: 400,\n    canvasHeight: 400,\n    disabled: false,\n    imgSrc: \"\",\n    saveData: \"\",\n    immediateLoading: false,\n    hideInterface: false\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.canvas = {};\n    this.ctx = {};\n\n    this.catenary = new Catenary();\n\n    this.points = [];\n    this.lines = [];\n\n    this.mouseHasMoved = true;\n    this.valuesChanged = true;\n    this.isDrawing = false;\n    this.isPressing = false;\n  }\n\n  componentDidMount() {\n    this.lazy = new LazyBrush({\n      radius: this.props.lazyRadius * window.devicePixelRatio,\n      enabled: true,\n      initialPoint: {\n        x: window.innerWidth / 2,\n        y: window.innerHeight / 2\n      }\n    });\n    this.chainLength = this.props.lazyRadius * window.devicePixelRatio;\n\n    this.canvasObserver = new ResizeObserver((entries, observer) =>\n      this.handleCanvasResize(entries, observer)\n    );\n    this.canvasObserver.observe(this.canvasContainer);\n\n    this.drawImage();\n    this.loop();\n\n    window.setTimeout(() => {\n      const initX = window.innerWidth / 2;\n      const initY = window.innerHeight / 2;\n      this.lazy.update(\n        { x: initX - this.chainLength / 4, y: initY },\n        { both: true }\n      );\n      this.lazy.update(\n        { x: initX + this.chainLength / 4, y: initY },\n        { both: false }\n      );\n      this.mouseHasMoved = true;\n      this.valuesChanged = true;\n      this.clear();\n\n      // Load saveData from prop if it exists\n      if (this.props.saveData) {\n        this.loadSaveData(this.props.saveData);\n      }\n    }, 100);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.lazyRadius !== this.props.lazyRadius) {\n      // Set new lazyRadius values\n      this.chainLength = this.props.lazyRadius * window.devicePixelRatio;\n      this.lazy.setRadius(this.props.lazyRadius * window.devicePixelRatio);\n    }\n\n    if (prevProps.saveData !== this.props.saveData) {\n      this.loadSaveData(this.props.saveData);\n    }\n\n    if (JSON.stringify(prevProps) !== JSON.stringify(this.props)) {\n      // Signal this.loop function that values changed\n      this.valuesChanged = true;\n    }\n  }\n\n  componentWillUnmount = () => {\n    this.canvasObserver.unobserve(this.canvasContainer);\n  };\n\n  drawImage = () => {\n    if (!this.props.imgSrc) return;\n\n    // Load the image\n    this.image = new Image();\n\n    // Prevent SecurityError \"Tainted canvases may not be exported.\" #70\n    this.image.crossOrigin = \"anonymous\";\n\n    // Draw the image once loaded\n    this.image.onload = () =>\n      drawImage({ ctx: this.ctx.grid, img: this.image });\n    this.image.src = this.props.imgSrc;\n  };\n\n  undo = () => {\n    const lines = this.lines.slice(0, -1);\n    this.clear();\n    this.simulateDrawingLines({ lines, immediate: true });\n    this.triggerOnChange();\n  };\n\n  getSaveData = () => {\n    // Construct and return the stringified saveData object\n    return JSON.stringify({\n      lines: this.lines,\n      width: this.props.canvasWidth,\n      height: this.props.canvasHeight\n    });\n  };\n\n  getDataURL = () => {\n    //generates the image data url (JPG format) from the HTML5 canvas element\n    return this.canvas.drawing.toDataURL();\n  }\n\n  loadSaveData = (saveData, immediate = this.props.immediateLoading) => {\n    if (typeof saveData !== \"string\") {\n      throw new Error(\"saveData needs to be of type string!\");\n    }\n\n    const { lines, width, height } = JSON.parse(saveData);\n\n    if (!lines || typeof lines.push !== \"function\") {\n      throw new Error(\"saveData.lines needs to be an array!\");\n    }\n\n    this.clear();\n\n    if (\n      width === this.props.canvasWidth &&\n      height === this.props.canvasHeight\n    ) {\n      this.simulateDrawingLines({\n        lines,\n        immediate\n      });\n    } else {\n      // we need to rescale the lines based on saved & current dimensions\n      const scaleX = this.props.canvasWidth / width;\n      const scaleY = this.props.canvasHeight / height;\n      const scaleAvg = (scaleX + scaleY) / 2;\n\n      this.simulateDrawingLines({\n        lines: lines.map(line => ({\n          ...line,\n          points: line.points.map(p => ({\n            x: p.x * scaleX,\n            y: p.y * scaleY\n          })),\n          brushRadius: line.brushRadius * scaleAvg\n        })),\n        immediate\n      });\n    }\n  };\n\n  simulateDrawingLines = ({ lines, immediate }) => {\n    // Simulate live-drawing of the loaded lines\n    // TODO use a generator\n    let curTime = 0;\n    let timeoutGap = immediate ? 0 : this.props.loadTimeOffset;\n\n    lines.forEach(line => {\n      const { points, brushColor, brushRadius } = line;\n\n      // Draw all at once if immediate flag is set, instead of using setTimeout\n      if (immediate) {\n        // Draw the points\n        this.drawPoints({\n          points,\n          brushColor,\n          brushRadius\n        });\n\n        // Save line with the drawn points\n        this.points = points;\n        this.saveLine({ brushColor, brushRadius });\n        return;\n      }\n\n      // Use timeout to draw\n      for (let i = 1; i < points.length; i++) {\n        curTime += timeoutGap;\n        window.setTimeout(() => {\n          this.drawPoints({\n            points: points.slice(0, i + 1),\n            brushColor,\n            brushRadius\n          });\n        }, curTime);\n      }\n\n      curTime += timeoutGap;\n      window.setTimeout(() => {\n        // Save this line with its props instead of this.props\n        this.points = points;\n        this.saveLine({ brushColor, brushRadius });\n      }, curTime);\n    });\n  };\n\n  handleDrawStart = e => {\n    e.preventDefault();\n\n    // Start drawing\n    this.isPressing = true;\n\n    const { x, y } = this.getPointerPos(e);\n\n    if (e.touches && e.touches.length > 0) {\n      // on touch, set catenary position to touch pos\n      this.lazy.update({ x, y }, { both: true });\n    }\n\n    // Ensure the initial down position gets added to our line\n    this.handlePointerMove(x, y);\n  };\n\n  handleDrawMove = e => {\n    e.preventDefault();\n\n    const { x, y } = this.getPointerPos(e);\n    this.handlePointerMove(x, y);\n  };\n\n  handleDrawEnd = e => {\n    e.preventDefault();\n\n    // Draw to this end pos\n    this.handleDrawMove(e);\n\n    // Stop drawing & save the drawn line\n    this.isDrawing = false;\n    this.isPressing = false;\n    this.saveLine();\n  };\n\n  handleCanvasResize = (entries, observer) => {\n    const saveData = this.getSaveData();\n    for (const entry of entries) {\n      const { width, height } = entry.contentRect;\n      this.setCanvasSize(this.canvas.interface, width, height);\n      this.setCanvasSize(this.canvas.drawing, width, height);\n      this.setCanvasSize(this.canvas.temp, width, height);\n      this.setCanvasSize(this.canvas.grid, width, height);\n\n      this.drawGrid(this.ctx.grid);\n      this.drawImage();\n      this.loop({ once: true });\n    }\n    this.loadSaveData(saveData, true);\n  };\n\n  setCanvasSize = (canvas, width, height) => {\n    canvas.width = width;\n    canvas.height = height;\n    canvas.style.width = width;\n    canvas.style.height = height;\n  };\n\n  getPointerPos = e => {\n    const rect = this.canvas.interface.getBoundingClientRect();\n\n    // use cursor pos as default\n    let clientX = e.clientX;\n    let clientY = e.clientY;\n\n    // use first touch if available\n    if (e.changedTouches && e.changedTouches.length > 0) {\n      clientX = e.changedTouches[0].clientX;\n      clientY = e.changedTouches[0].clientY;\n    }\n\n    // return mouse/touch position inside canvas\n    return {\n      x: clientX - rect.left,\n      y: clientY - rect.top\n    };\n  };\n\n  handlePointerMove = (x, y) => {\n    if (this.props.disabled) return;\n\n    this.lazy.update({ x, y });\n    const isDisabled = !this.lazy.isEnabled();\n\n    if (\n      (this.isPressing && !this.isDrawing) ||\n      (isDisabled && this.isPressing)\n    ) {\n      // Start drawing and add point\n      this.isDrawing = true;\n      this.points.push(this.lazy.brush.toObject());\n    }\n\n    if (this.isDrawing) {\n      // Add new point\n      this.points.push(this.lazy.brush.toObject());\n\n      // Draw current points\n      this.drawPoints({\n        points: this.points,\n        brushColor: this.props.brushColor,\n        brushRadius: this.props.brushRadius\n      });\n    }\n\n    this.mouseHasMoved = true;\n  };\n\n  drawPoints = ({ points, brushColor, brushRadius }) => {\n    this.ctx.temp.lineJoin = \"round\";\n    this.ctx.temp.lineCap = \"round\";\n    this.ctx.temp.strokeStyle = brushColor;\n\n    this.ctx.temp.clearRect(\n      0,\n      0,\n      this.ctx.temp.canvas.width,\n      this.ctx.temp.canvas.height\n    );\n    this.ctx.temp.lineWidth = brushRadius * 2;\n\n    let p1 = points[0];\n    let p2 = points[1];\n\n    this.ctx.temp.moveTo(p2.x, p2.y);\n    this.ctx.temp.beginPath();\n\n    for (var i = 1, len = points.length; i < len; i++) {\n      // we pick the point between pi+1 & pi+2 as the\n      // end point and p1 as our control point\n      var midPoint = midPointBtw(p1, p2);\n      this.ctx.temp.quadraticCurveTo(p1.x, p1.y, midPoint.x, midPoint.y);\n      p1 = points[i];\n      p2 = points[i + 1];\n    }\n    // Draw last line as a straight line while\n    // we wait for the next point to be able to calculate\n    // the bezier control point\n    this.ctx.temp.lineTo(p1.x, p1.y);\n    this.ctx.temp.stroke();\n  };\n\n  saveLine = ({ brushColor, brushRadius } = {}) => {\n    if (this.points.length < 2) return;\n\n    // Save as new line\n    this.lines.push({\n      points: [...this.points],\n      brushColor: brushColor || this.props.brushColor,\n      brushRadius: brushRadius || this.props.brushRadius\n    });\n\n    // Reset points array\n    this.points.length = 0;\n\n    const width = this.canvas.temp.width;\n    const height = this.canvas.temp.height;\n\n    // Copy the line to the drawing canvas\n    this.ctx.drawing.drawImage(this.canvas.temp, 0, 0, width, height);\n\n    // Clear the temporary line-drawing canvas\n    this.ctx.temp.clearRect(0, 0, width, height);\n\n    this.triggerOnChange();\n  };\n\n  triggerOnChange = () => {\n    this.props.onChange && this.props.onChange(this);\n  };\n\n  clear = () => {\n    this.lines = [];\n    this.valuesChanged = true;\n    this.ctx.drawing.clearRect(\n      0,\n      0,\n      this.canvas.drawing.width,\n      this.canvas.drawing.height\n    );\n    this.ctx.temp.clearRect(\n      0,\n      0,\n      this.canvas.temp.width,\n      this.canvas.temp.height\n    );\n  };\n\n  loop = ({ once = false } = {}) => {\n    if (this.mouseHasMoved || this.valuesChanged) {\n      const pointer = this.lazy.getPointerCoordinates();\n      const brush = this.lazy.getBrushCoordinates();\n\n      this.drawInterface(this.ctx.interface, pointer, brush);\n      this.mouseHasMoved = false;\n      this.valuesChanged = false;\n    }\n\n    if (!once) {\n      window.requestAnimationFrame(() => {\n        this.loop();\n      });\n    }\n  };\n\n  drawGrid = ctx => {\n    if (this.props.hideGrid) return;\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    ctx.beginPath();\n    ctx.setLineDash([5, 1]);\n    ctx.setLineDash([]);\n    ctx.strokeStyle = this.props.gridColor;\n    ctx.lineWidth = 0.5;\n\n    const gridSize = 25;\n\n    let countX = 0;\n    while (countX < ctx.canvas.width) {\n      countX += gridSize;\n      ctx.moveTo(countX, 0);\n      ctx.lineTo(countX, ctx.canvas.height);\n    }\n    ctx.stroke();\n\n    let countY = 0;\n    while (countY < ctx.canvas.height) {\n      countY += gridSize;\n      ctx.moveTo(0, countY);\n      ctx.lineTo(ctx.canvas.width, countY);\n    }\n    ctx.stroke();\n  };\n\n  drawInterface = (ctx, pointer, brush) => {\n    if (this.props.hideInterface) return;\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    // Draw brush preview\n    ctx.beginPath();\n    ctx.fillStyle = this.props.brushColor;\n    ctx.arc(brush.x, brush.y, this.props.brushRadius, 0, Math.PI * 2, true);\n    ctx.fill();\n\n    // Draw mouse point (the one directly at the cursor)\n    ctx.beginPath();\n    ctx.fillStyle = this.props.catenaryColor;\n    ctx.arc(pointer.x, pointer.y, 4, 0, Math.PI * 2, true);\n    ctx.fill();\n\n    // Draw catenary\n    if (this.lazy.isEnabled()) {\n      ctx.beginPath();\n      ctx.lineWidth = 2;\n      ctx.lineCap = \"round\";\n      ctx.setLineDash([2, 4]);\n      ctx.strokeStyle = this.props.catenaryColor;\n      this.catenary.drawToCanvas(\n        this.ctx.interface,\n        brush,\n        pointer,\n        this.chainLength\n      );\n      ctx.stroke();\n    }\n\n    // Draw brush point (the one in the middle of the brush preview)\n    ctx.beginPath();\n    ctx.fillStyle = this.props.catenaryColor;\n    ctx.arc(brush.x, brush.y, 2, 0, Math.PI * 2, true);\n    ctx.fill();\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        style={{\n          display: \"block\",\n          background: this.props.backgroundColor,\n          touchAction: \"none\",\n          width: this.props.canvasWidth,\n          height: this.props.canvasHeight,\n          ...this.props.style\n        }}\n        ref={container => {\n          if (container) {\n            this.canvasContainer = container;\n          }\n        }}\n      >\n        {canvasTypes.map(({ name, zIndex }) => {\n          const isInterface = name === \"interface\";\n          return (\n            <canvas\n              key={name}\n              ref={canvas => {\n                if (canvas) {\n                  this.canvas[name] = canvas;\n                  this.ctx[name] = canvas.getContext(\"2d\");\n                }\n              }}\n              style={{ ...canvasStyle, zIndex }}\n              onMouseDown={isInterface ? this.handleDrawStart : undefined}\n              onMouseMove={isInterface ? this.handleDrawMove : undefined}\n              onMouseUp={isInterface ? this.handleDrawEnd : undefined}\n              onMouseOut={isInterface ? this.handleDrawEnd : undefined}\n              onTouchStart={isInterface ? this.handleDrawStart : undefined}\n              onTouchMove={isInterface ? this.handleDrawMove : undefined}\n              onTouchEnd={isInterface ? this.handleDrawEnd : undefined}\n              onTouchCancel={isInterface ? this.handleDrawEnd : undefined}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 5\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/index.js\n// module id = 6\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/factoryWithThrowingShims.js\n// module id = 7\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/lib/ReactPropTypesSecret.js\n// module id = 8\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LazyPoint = exports.Point = exports.LazyBrush = undefined;\n\nvar _LazyBrush = require('./LazyBrush');\n\nvar _LazyBrush2 = _interopRequireDefault(_LazyBrush);\n\nvar _Point = require('./Point');\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nvar _LazyPoint = require('./LazyPoint');\n\nvar _LazyPoint2 = _interopRequireDefault(_LazyPoint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.LazyBrush = _LazyBrush2.default;\nexports.Point = _Point2.default;\nexports.LazyPoint = _LazyPoint2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazy-brush/lib/index.js\n// module id = 9\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LazyPoint = require('./LazyPoint');\n\nvar _LazyPoint2 = _interopRequireDefault(_LazyPoint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RADIUS_DEFAULT = 30;\n\nvar LazyBrush = function () {\n  /**\n   * constructor\n   *\n   * @param {object} settings\n   * @param {number} settings.radius The radius for the lazy area\n   * @param {boolean} settings.enabled\n   */\n  function LazyBrush() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$radius = _ref.radius,\n        radius = _ref$radius === undefined ? RADIUS_DEFAULT : _ref$radius,\n        _ref$enabled = _ref.enabled,\n        enabled = _ref$enabled === undefined ? true : _ref$enabled,\n        _ref$initialPoint = _ref.initialPoint,\n        initialPoint = _ref$initialPoint === undefined ? { x: 0, y: 0 } : _ref$initialPoint;\n\n    _classCallCheck(this, LazyBrush);\n\n    this.radius = radius;\n    this._isEnabled = enabled;\n\n    this.pointer = new _LazyPoint2.default(initialPoint.x, initialPoint.y);\n    this.brush = new _LazyPoint2.default(initialPoint.x, initialPoint.y);\n\n    this.angle = 0;\n    this.distance = 0;\n    this._hasMoved = false;\n  }\n\n  /**\n   * Enable lazy brush calculations.\n   *\n   */\n\n\n  _createClass(LazyBrush, [{\n    key: 'enable',\n    value: function enable() {\n      this._isEnabled = true;\n    }\n\n    /**\n     * Disable lazy brush calculations.\n     *\n     */\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this._isEnabled = false;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return this._isEnabled;\n    }\n\n    /**\n     * Update the radius\n     *\n     * @param {number} radius\n     */\n\n  }, {\n    key: 'setRadius',\n    value: function setRadius(radius) {\n      this.radius = radius;\n    }\n\n    /**\n     * Return the current radius\n     *\n     * @returns {number}\n     */\n\n  }, {\n    key: 'getRadius',\n    value: function getRadius() {\n      return this.radius;\n    }\n\n    /**\n     * Return the brush coordinates as a simple object\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: 'getBrushCoordinates',\n    value: function getBrushCoordinates() {\n      return this.brush.toObject();\n    }\n\n    /**\n     * Return the pointer coordinates as a simple object\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: 'getPointerCoordinates',\n    value: function getPointerCoordinates() {\n      return this.pointer.toObject();\n    }\n\n    /**\n     * Return the brush as a LazyPoint\n     *\n     * @returns {LazyPoint}\n     */\n\n  }, {\n    key: 'getBrush',\n    value: function getBrush() {\n      return this.brush;\n    }\n\n    /**\n     * Return the pointer as a LazyPoint\n     *\n     * @returns {LazyPoint}\n     */\n\n  }, {\n    key: 'getPointer',\n    value: function getPointer() {\n      return this.pointer;\n    }\n\n    /**\n     * Return the angle between pointer and brush\n     *\n     * @returns {number} Angle in radians\n     */\n\n  }, {\n    key: 'getAngle',\n    value: function getAngle() {\n      return this.angle;\n    }\n\n    /**\n     * Return the distance between pointer and brush\n     *\n     * @returns {number} Distance in pixels\n     */\n\n  }, {\n    key: 'getDistance',\n    value: function getDistance() {\n      return this.distance;\n    }\n\n    /**\n     * Return if the previous update has moved the brush.\n     *\n     * @returns {boolean} Whether the brush moved previously.\n     */\n\n  }, {\n    key: 'brushHasMoved',\n    value: function brushHasMoved() {\n      return this._hasMoved;\n    }\n\n    /**\n     * Updates the pointer point and calculates the new brush point.\n     *\n     * @param {Point} newPointerPoint\n     * @param {Object} options\n     * @param {Boolean} options.both Force update pointer and brush\n     * @returns {Boolean} Whether any of the two points changed\n     */\n\n  }, {\n    key: 'update',\n    value: function update(newPointerPoint) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$both = _ref2.both,\n          both = _ref2$both === undefined ? false : _ref2$both;\n\n      this._hasMoved = false;\n      if (this.pointer.equalsTo(newPointerPoint) && !both) {\n        return false;\n      }\n\n      this.pointer.update(newPointerPoint);\n\n      if (both) {\n        this._hasMoved = true;\n        this.brush.update(newPointerPoint);\n        return true;\n      }\n\n      if (this._isEnabled) {\n        this.distance = this.pointer.getDistanceTo(this.brush);\n        this.angle = this.pointer.getAngleTo(this.brush);\n\n        if (this.distance > this.radius) {\n          this.brush.moveByAngle(this.angle, this.distance - this.radius);\n          this._hasMoved = true;\n        }\n      } else {\n        this.distance = 0;\n        this.angle = 0;\n        this.brush.update(newPointerPoint);\n        this._hasMoved = true;\n      }\n\n      return true;\n    }\n  }]);\n\n  return LazyBrush;\n}();\n\nexports.default = LazyBrush;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazy-brush/lib/LazyBrush.js\n// module id = 10\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Point = exports.Catenary = undefined;\n\nvar _Catenary = require('./Catenary');\n\nvar _Catenary2 = _interopRequireDefault(_Catenary);\n\nvar _Point = require('./Point');\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Catenary = _Catenary2.default;\nexports.Point = _Point2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/catenary-curve/lib/index.js\n// module id = 11\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Given two points and a length, calculate and draw the catenary.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * JavaScript implementation:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (c) 2018 Jan Hug <me@dulnan.net>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Released under the MIT license.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * ----------------------------------------------------------------------------\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Original ActionScript implementation:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright poiasd ( http://wonderfl.net/user/poiasd )\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MIT License ( http://www.opensource.org/licenses/mit-license.php )\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Downloaded from: http://wonderfl.net/c/8Bnl\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * ----------------------------------------------------------------------------\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Archived by and downloaded from:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * http://wa.zozuar.org/code.php?c=8Bnl\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _Point = require('./Point');\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EPSILON = 1e-6;\n\nvar Catenary = function () {\n  /**\n   * constructor\n   *\n   * @param {Object} settings\n   * @param {Number} settings.segments Number of segments of the chain.\n   * @param {Number} settings.iterationLimit Maximum amount iterations for getting catenary parameters.\n   */\n  function Catenary() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$segments = _ref.segments,\n        segments = _ref$segments === undefined ? 50 : _ref$segments,\n        _ref$iterationLimit = _ref.iterationLimit,\n        iterationLimit = _ref$iterationLimit === undefined ? 100 : _ref$iterationLimit;\n\n    _classCallCheck(this, Catenary);\n\n    this.p1 = new _Point2.default();\n    this.p2 = new _Point2.default();\n\n    this.segments = segments;\n    this.iterationLimit = iterationLimit;\n  }\n\n  /**\n   * Draws a catenary given two coordinates, a length and a context.\n   * \n   * @param {CanvasRenderingContext2D} context The canvas context to draw the catenary on to.\n   * @param {Point} p1 First point\n   * @param {Point} p2 Second point\n   * @param {Number} chainLength The length of the catenary\n   */\n\n\n  _createClass(Catenary, [{\n    key: 'drawToCanvas',\n    value: function drawToCanvas(context, point1, point2, chainLength) {\n      this.p1.update(point1);\n      this.p2.update(point2);\n\n      var isFlipped = this.p1.x > this.p2.x;\n\n      var p1 = isFlipped ? this.p2 : this.p1;\n      var p2 = isFlipped ? this.p1 : this.p2;\n\n      var distance = p1.getDistanceTo(p2);\n\n      var curveData = [];\n      var isStraight = true;\n\n      // Prevent \"expensive\" catenary calculations if it would only result\n      // in a straight line.\n      if (distance < chainLength) {\n        var diff = p2.x - p1.x;\n\n        // If the distance on the x axis of both points is too small, don't\n        // calculate a catenary.\n        if (diff > 0.01) {\n          var h = p2.x - p1.x;\n          var v = p2.y - p1.y;\n          var a = -this.getCatenaryParameter(h, v, chainLength, this.iterationLimit);\n          var x = (a * Math.log((chainLength + v) / (chainLength - v)) - h) * 0.5;\n          var y = a * Math.cosh(x / a);\n          var offsetX = p1.x - x;\n          var offsetY = p1.y - y;\n          curveData = this.getCurve(a, p1, p2, offsetX, offsetY, this.segments);\n          isStraight = false;\n        } else {\n          var mx = (p1.x + p2.x) * 0.5;\n          var my = (p1.y + p2.y + chainLength) * 0.5;\n\n          curveData = [[p1.x, p1.y], [mx, my], [p2.x, p2.y]];\n        }\n      } else {\n        curveData = [[p1.x, p1.y], [p2.x, p2.y]];\n      }\n\n      if (isStraight) {\n        this.drawLine(curveData, context);\n      } else {\n        this.drawCurve(curveData, context);\n      }\n\n      return curveData;\n    }\n\n    /**\n     * Determines catenary parameter.\n     * \n     * @param {Number} h Horizontal distance of both points.\n     * @param {Number} v Vertical distance of both points.\n     * @param {Number} length The catenary length.\n     * @param {Number} limit Maximum amount of iterations to find parameter.\n     */\n\n  }, {\n    key: 'getCatenaryParameter',\n    value: function getCatenaryParameter(h, v, length, limit) {\n      var m = Math.sqrt(length * length - v * v) / h;\n      var x = Math.acosh(m) + 1;\n      var prevx = -1;\n      var count = 0;\n\n      while (Math.abs(x - prevx) > EPSILON && count < limit) {\n        prevx = x;\n        x = x - (Math.sinh(x) - m * x) / (Math.cosh(x) - m);\n        count++;\n      }\n\n      return h / (2 * x);\n    }\n\n    /**\n     * Calculate the catenary curve.\n     * Increasing the segments value will produce a catenary closer\n     * to reality, but will require more calcluations.\n     * \n     * @param {Number} a The catenary parameter.\n     * @param {Point} p1 First point\n     * @param {Point} p2 Second point\n     * @param {Number} offsetX The calculated offset on the x axis.\n     * @param {Number} offsetY The calculated offset on the y axis.\n     * @param {Number} segments How many \"parts\" the chain should be made of.\n     */\n\n  }, {\n    key: 'getCurve',\n    value: function getCurve(a, p1, p2, offsetX, offsetY, segments) {\n      var data = [p1.x, a * Math.cosh((p1.x - offsetX) / a) + offsetY];\n\n      var d = p2.x - p1.x;\n      var length = segments - 1;\n\n      for (var i = 0; i < length; i++) {\n        var x = p1.x + d * (i + 0.5) / length;\n        var y = a * Math.cosh((x - offsetX) / a) + offsetY;\n        data.push(x, y);\n      }\n\n      data.push(p2.x, a * Math.cosh((p2.x - offsetX) / a) + offsetY);\n\n      return data;\n    }\n\n    /**\n     * Draws a straight line between two points.\n     *\n     * @param {Array} data Even indices are x, odd are y.\n     * @param {CanvasRenderingContext2D} context The context to draw to.\n     */\n\n  }, {\n    key: 'drawLine',\n    value: function drawLine(data, context) {\n      context.moveTo(data[0][0], data[0][1]);\n\n      context.lineTo(data[1][0], data[1][1]);\n    }\n\n    /**\n     * Draws a quadratic curve between every calculated catenary segment,\n     * so that the segments don't look like straight lines.\n     *\n     * @param {Array} data Even indices are x, odd are y.\n     * @param {CanvasRenderingContext2D} context The context to draw to.\n     * \n     * @returns {Array} The original segment coordinates.\n     */\n\n  }, {\n    key: 'drawCurve',\n    value: function drawCurve(data, context) {\n      var length = data.length * 0.5 - 1;\n      var ox = data[2];\n      var oy = data[3];\n\n      var temp = [];\n\n      context.moveTo(data[0], data[1]);\n\n      for (var i = 2; i < length; i++) {\n        var x = data[i * 2];\n        var y = data[i * 2 + 1];\n        var mx = (x + ox) * 0.5;\n        var my = (y + oy) * 0.5;\n        temp.push([ox, oy, mx, my]);\n        context.quadraticCurveTo(ox, oy, mx, my);\n        ox = x;\n        oy = y;\n      }\n\n      length = data.length;\n      context.quadraticCurveTo(data[length - 4], data[length - 3], data[length - 2], data[length - 1]);\n\n      return temp;\n    }\n  }]);\n\n  return Catenary;\n}();\n\nexports.default = Catenary;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/catenary-curve/lib/Catenary.js\n// module id = 12\n// module chunks = 0","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\n// module id = 13\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 14\n// module chunks = 0","/** \n * Original from: https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\n * Original By Ken Fyrstenberg Nilsen\n * \n * Note: img must be fully loaded or have correct width & height set.\n */\nexport default function drawImageProp({ctx, img, x, y, w, h, offsetX, offsetY} = {}) {\n  // Defaults\n  if (typeof x !== \"number\") x = 0;\n  if (typeof y !== \"number\") y = 0;\n  if (typeof w !== \"number\") w = ctx.canvas.width;\n  if (typeof h !== \"number\") h = ctx.canvas.height;\n  if (typeof offsetX !== \"number\") offsetX = 0.5;\n  if (typeof offsetY !== \"number\") offsetY = 0.5;\n\n  // keep bounds [0.0, 1.0]\n  if (offsetX < 0) offsetX = 0;\n  if (offsetY < 0) offsetY = 0;\n  if (offsetX > 1) offsetX = 1;\n  if (offsetY > 1) offsetY = 1;\n\n  var iw = img.width,\n    ih = img.height,\n    r = Math.min(w / iw, h / ih),\n    nw = iw * r, // new prop. width\n    nh = ih * r, // new prop. height\n    cx,\n    cy,\n    cw,\n    ch,\n    ar = 1;\n\n  // decide which gap to fill\n  if (nw < w) ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n  nw *= ar;\n  nh *= ar;\n\n  // calc source rectangle\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY;\n\n  // make sure source rectangle is valid\n  if (cx < 0) cx = 0;\n  if (cy < 0) cy = 0;\n  if (cw > iw) cw = iw;\n  if (ch > ih) ch = ih;\n\n  // fill image in dest. rectangle\n  ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/drawImage.js"],"sourceRoot":""}